/*!For license information please see LICENSES*/(window.webpackJsonp=window.webpackJsonp||[]).push([[17,6],{1148:function(e,t,r){"use strict";r.r(t);var n=r(286),o=r(18),l=r(10),c=(r(15),r(40),r(41),r(47),r(48),r(33),r(110),r(60),r(30),r(276),r(32),r(83),r(112),r(335),"metric"),d={setSystem:function(e){c=e},commify:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},roundDigits:function(e,t){var r=e.toString().length,n=Math.min(Math.pow(10,r-1),t);return Math.round(e/n)*n},displayPop:function(e){return"".concat(this.commify(Math.round(e))," ").concat(1===e?"person":"people")},displayDeaths:function(e){return"".concat(this.commify(Math.round(e))," ").concat(1===e?"death":"deaths")},displayMagnitude:function(e){return e.toFixed(1)},displayYears:function(e){if(365*e<=2)return"day";if(e<1)return"".concat(Math.round(365*e)," days");var t=Math.round(e);return 1===t?"year":t<1e3?"".concat(t," years"):t<1e6?"".concat(Math.round(t/1e3),",000 years"):t<1e7?"".concat((t/1e6).toFixed(1)," million years"):t<1e9?"".concat(Math.round(t/1e6)," million years"):this.commify(t)+" years"},displayLength:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("metric"===c){if(e<1e3){var n=Math.round(e);return r?this.roundDigits(n,10)+" m":n+" m"}var o=e/1e3;return o=o<10?o.toFixed(1):Math.round(o),this.commify(o)+" km"}if("imperial"===c){var l=3.28084*e;if(l<2640){var d=Math.round(l);return r&&(d=this.roundDigits(d,100)),this.commify(d)+" ft"}var f=l/5280,h=" mile".concat(t?"s":"");return"1.0"===f.toFixed(1)?"1 mile":f<1&&f>=.5?(.05*Math.round(f/.05)).toFixed(2)+h:f<10?f.toFixed(1)+h:this.commify(Math.round(f))+h}},displayLengthWithoutPlural:function(e){return this.displayLength(e,!1)},displaySpeed:function(e){var t,r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("metric"===c)return e<1e3?(t=Math.round(e),r="m/s"):(t=Math.round(e/1e3),r="km/s"),this.commify(t)+" "+r;if("imperial"===c){var o=Math.round(2.237*e);return n&&(o=this.roundDigits(o,1e3)),this.commify(o)+" mph"}},displayWindSpeed:function(e){return e<1e3?Math.round(e)+"m/s":(e/1e3).toFixed(1)+"km/s"},displayEnergy:function(e){var t,r=e/1e3,n="Kilotons";return r>1e3?(t=r/1e3,n="Gigaton"):r>1?(t=r,n="Megaton"):r>.001?(t=e,n="Kiloton"):(t=1e3*e,n="Ton"),"".concat(this.commify(Math.round(t))," ").concat(n).concat(1===t?"":"s")},displayAngle:function(e){return"".concat(Math.round(e),"°")}},f={props:{min:{type:Number,required:!0},max:{type:Number,required:!0},default:{type:Number,required:!0},title:{type:String,required:!0},displayType:{type:String,required:!0},icon:{type:String,required:!0},system:{type:String,required:!0}},data:function(){return{value:this.default}},watch:{system:function(){this.value=Math.max(Math.min(this.value,this.max),this.min)}},computed:{displayValue:function(){return d[this.displayType](this.value,!0,!0,this.system)}}},h=(r(761),r(28)),m=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"slider-wrapper"},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[t("img",{staticClass:"title-icon",attrs:{src:"/asteroid-launcher/icons/".concat(e.icon,".svg")}}),e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),t("div",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.displayValue)+"\n    ")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"slider",style:{"--percent":(e.value-e.min)/(e.max-e.min)*100+"%","--offset":10*-(.5-e.value/e.max)+"px"},attrs:{type:"range",min:e.min,max:e.max,step:"1"},domProps:{value:e.value},on:{input:function(t){e.$emit("change",parseInt(t.target.value))},__r:function(t){e.value=t.target.value}}})])}),[],!1,null,"55c44296",null).exports,v={props:{label:{type:String,required:!0},value:{type:String,required:!0}}},y=(r(763),Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"stat"},[t("div",{staticClass:"label"},[e._v(e._s(e.label))]),e._v(" "),t("div",{staticClass:"value"},[e._v(e._s(e.value))])])}),[],!1,null,"109e0ad6",null).exports),x={props:{isDeath:{type:Boolean,required:!1,default:!1},icon:{type:String,required:!0},value:{type:Number,required:!1},valueStr:{type:String,required:!1},before:{type:String,required:!1,default:""},after:{type:String,required:!1,default:""},displayType:{type:String,required:!1,default:""}},computed:{valueDisplay:function(){return this.valueStr?this.valueStr:d[this.displayType](this.value)}}},w=(r(765),Object(h.a)(x,(function(){var e=this,t=e._self._c;return e.value>0||e.valueStr?t("div",{staticClass:"bullet-wrapper",class:{death:e.isDeath}},[t("div",{staticClass:"bullet-icon-wrapper"},[t("img",{staticClass:"bullet-icon",attrs:{src:"/asteroid-launcher/icons/".concat(e.icon,".svg")}})]),e._v(" "),t("div",{staticClass:"bullet-desc"},[e._v("\n    "+e._s(e.before)+"\n    "),t("b",[e._v(e._s(e.valueDisplay))]),e._v("\n    "+e._s(e.after)+"\n  ")])]):e._e()}),[],!1,null,"60388d06",null).exports),M={props:{headline:{required:!0,type:String},icon:{required:!0,type:String},type:{required:!0,type:String},didScroll:{required:!0,type:Boolean},isSelected:{required:!0,type:Boolean}},data:function(){return{observerAdded:!1}},watch:{didScroll:function(){this.didScroll&&!this.observerAdded&&this.setupObserver()}},methods:{setupObserver:function(){var e=this,t=function(t,r){t.forEach((function(t){t.isIntersecting&&e.$emit("mapChange",e.type)}))},r=new IntersectionObserver(t,{root:document.querySelector("#sidebar"),rootMargin:"-50% 0% -50% 0%",threshold:0}),n=new IntersectionObserver(t,{root:document.querySelector("#sidebar"),threshold:1});r.observe(this.$refs.trigger),n.observe(this.$refs.trigger),this.observerAdded=!0}}},C=(r(767),Object(h.a)(M,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"section",class:{"section-selected":e.isSelected}},[t("div",{ref:"trigger",staticClass:"section-trigger"}),e._v(" "),t("div",{staticClass:"section-inner"},[t("img",{staticClass:"section-icon",attrs:{src:e.icon}}),e._v(" "),t("div",{staticClass:"section-headline"},[e._v("\n      "+e._s(e.headline)+"\n    ")])]),e._v(" "),e._t("default")],2)}),[],!1,null,"84c613a8",null).exports),R=[{desc:"Tunguska explosion",megatons:15,icon:"explosion"},{desc:"the eruption of Mount St. Helens",megatons:24,icon:"volcano"},{desc:"the largest nuke ever tested",megatons:50,icon:"nuke"},{desc:"the eruption of Krakatoa in 1883",megatons:200,icon:"volcano"},{desc:"all the nukes in the world",megatons:1460,icon:"nuke"},{desc:"a hurricane releases in a day",megatons:11950,icon:"hurricane"},{desc:"the world consumes in a year",megatons:119502,icon:"car"},{desc:"the last eruption of Yellowstone",megatons:875e3,icon:"volcano"}],k={components:{Stat:y,ResultBullet:w,ResultSection:C},props:{resultData:{required:!0,type:Object},popData:{required:!0,type:Object},isMobile:{required:!0,type:Boolean},mobileResultType:{required:!0,type:String},mapType:{required:!0,type:String}},data:function(){return{didScroll:!1,isAtBottom:!1}},mounted:function(){var e=this,t=document.getElementById("sidebar");t.scrollHeight===window.innerHeight?(this.isAtBottom=!0,this.$emit("fadeChange",!0)):(this.isAtBottom=!1,this.$emit("fadeChange",!1)),t.addEventListener("scroll",(function(){e.didScroll=!0;var r=t.scrollHeight-t.scrollTop-t.clientHeight<1;r!==e.isAtBottom&&(e.$emit("fadeChange",r),e.isAtBottom=r)}))},computed:{energyComparison:function(){var e=this.resultData.impactEnergyKt/1e3;return this.getComparison(R,"megatons",e)},earthquakeMagnitude:function(){return d.displayMagnitude(this.resultData.seismicMagnitude)},craterDiameter:function(){return d.displayLength(this.resultData.finalCraterDiameter,!1)},fireballDiameter:function(){return d.displayLength(2*this.resultData.fireballRadius,!1)},peakWindSpeed:function(){return d.displaySpeed(this.resultData.peakWindSpeed)}},methods:{shouldShow:function(e){return this.isMobile?e===this.mobileResultType:this.resultData["show"+e]},getComparison:function(e,t,r){for(var n=0;n<e.length;n++)if(e[n][t]>r)return e[n];return e[0][t]>r?"":e[e.length-1]},mapChange:function(e){this.isMobile||this.$emit("mapChange",e)}}},A=(r(769),Object(h.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"result-wrapper"},[e.shouldShow("Crater")?t("ResultSection",{attrs:{icon:"/asteroid-launcher/crater.jpg",headline:"".concat(e.craterDiameter," wide crater"),didScroll:e.didScroll,isSelected:"crater"===e.mapType,type:"crater"},on:{mapChange:e.mapChange}},[t("ResultBullet",{attrs:{icon:"death",isDeath:!0,before:"An estimated",value:e.popData.craterDeaths,after:"would be vaporized in the crater",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"depth",before:"The crater is",value:e.resultData.finalCraterDepth,after:"deep".concat(e.resultData.isWaterImpact?" on the sea floor":""),displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"tsunami",before:"The impact will create a",value:e.resultData.tsunamiHeight,after:"tall tsunami",displayType:"displayLengthWithoutPlural"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"speed",before:"Your asteroid impacted the ".concat(e.resultData.isWaterImpact?"water":"ground"," at"),value:e.resultData.impactVelocity,displayType:"displaySpeed"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"explosion",before:"The impact is equivalent to",value:e.resultData.impactEnergyKt,after:"of TNT",displayType:"displayEnergy"}}),e._v(" "),t("ResultBullet",{attrs:{icon:e.energyComparison.icon,before:"More energy was released than",valueStr:e.energyComparison.desc}}),e._v(" "),t("ResultBullet",{attrs:{icon:"clock",before:"An impact this size happens on average every",value:e.resultData.recurrence,displayType:"displayYears"}})],1):e._e(),e._v(" "),e.shouldShow("Airburst")?t("ResultSection",{attrs:{icon:"/asteroid-launcher/airburst.jpg",headline:"Airburst",type:"airburst",didScroll:e.didScroll,isSelected:"airburst"===e.mapType}},[t("ResultBullet",{attrs:{icon:"explosion",before:"Your asteroid blew up",value:e.resultData.airburstAltitude,after:"above the ".concat(e.resultData.isWaterImpact?"water":"ground"),displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"explosion",before:"The explosion was equivalent to",value:e.resultData.impactEnergyKt,after:"of TNT",displayType:"displayEnergy"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"clock",before:"An impact this size happens about every",value:e.resultData.recurrence,displayType:"displayYears"}}),e._v(" "),e.resultData.impactEnergyKt>15e3?t("ResultBullet",{attrs:{icon:"calendar",before:"Would be the",valueStr:"largest airburst",after:"in recorded history",displayType:"displayStr"}}):e._e()],1):e._e(),e._v(" "),e.shouldShow("Fireball")?t("ResultSection",{attrs:{icon:"/asteroid-launcher/fireball.jpg",headline:"".concat(e.fireballDiameter," wide fireball"),didScroll:e.didScroll,type:"fireball",isSelected:"fireball"===e.mapType},on:{mapChange:e.mapChange}},[t("ResultBullet",{attrs:{isDeath:!0,icon:"death",before:"An estimated",value:e.popData.thermalDeaths,after:"would die from the fireball",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"burn",before:"An estimated",value:e.popData.thirdDegreeBurn,after:"would receive\n      3rd degree burns",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"burn",before:"An estimated",value:e.popData.secondDegreeBurn,after:"would receive\n      2nd degree burns",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"clothes",before:"Clothes would catch on fire within",value:e.resultData.clothesBurnRadius,after:"of the impact",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"trees",before:"Trees would catch on fire within",value:e.resultData.treesBurnRadius,after:"of the impact",displayType:"displayLength"}})],1):e._e(),e._v(" "),e.shouldShow("Pressure")?t("ResultSection",{attrs:{icon:"/asteroid-launcher/pressure.jpg",headline:"".concat(Math.round(e.resultData.decibels)," decibel shock wave"),didScroll:e.didScroll,type:"pressure",isSelected:"pressure"===e.mapType},on:{mapChange:e.mapChange}},[t("ResultBullet",{attrs:{isDeath:!0,icon:"death",before:"An estimated",value:e.popData.overpressureDeaths,after:"would die from the shock wave",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"lungs",before:"Anyone within",value:e.resultData.lungDamageRadius,after:"would likely receive lung damage",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"ear",before:"Anyone within",value:e.resultData.eardrumRuptureRadius,after:"would likely have ruptured eardrums",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"building",before:"Buildings within",value:e.resultData.buildingCollapseRadius,after:"would collapse",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"home",before:"Homes within",value:e.resultData.homesCollapseRadius,after:"would collapse",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"window",before:"Windows within",value:e.resultData.windowShatterRadius,after:"would shatter",displayType:"displayLength"}})],1):e._e(),e._v(" "),e.shouldShow("Wind")?t("ResultSection",{attrs:{icon:"/asteroid-launcher/wind.jpg",headline:"".concat(e.peakWindSpeed," peak wind speed"),didScroll:e.didScroll,type:"wind",isSelected:"wind"===e.mapType},on:{mapChange:e.mapChange}},[t("ResultBullet",{attrs:{isDeath:!0,icon:"death",before:"An estimated",value:e.popData.windDeaths,after:"would die from the wind blast",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"wind",before:"Wind within ",value:e.resultData.jupiterWindRadius,after:"would be faster than storms on Jupiter",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"home",before:"Homes within",value:e.resultData.homesLeveledRadius,after:"would be completely leveled",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"tornado",before:"Within",value:e.resultData.ef5Radius,after:"it would feel like being inside an EF5 tornado",displayType:"displayLength"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"trees",before:"Nearly all trees within",value:e.resultData.treesFallRadius,after:"would be knocked down",displayType:"displayLength"}})],1):e._e(),e._v(" "),e.shouldShow("Earthquake")?t("ResultSection",{attrs:{type:"earthquake",icon:"/asteroid-launcher/earthquake.jpg",didScroll:e.didScroll,isSelected:"earthquake"===e.mapType,headline:"".concat(e.earthquakeMagnitude," magnitude earthquake")},on:{mapChange:e.mapChange}},[t("ResultBullet",{attrs:{isDeath:!0,icon:"death",before:"An estimated",value:e.popData.seismicDeaths,after:"would die from the earthquake.",displayType:"displayPop"}}),e._v(" "),t("ResultBullet",{attrs:{icon:"felt",before:"The earthquake would be felt",value:e.resultData.seismicFeel,after:"away",displayType:"displayLength"}}),e._v(" "),e.resultData.seismicMagnitude>9.5?t("ResultBullet",{attrs:{icon:"death",before:"The earthquake is the",valueStr:"largest in recorded history."}}):e._e()],1):e._e()],1)}),[],!1,null,"14a3f988",null).exports),S=r(313);Math.sqrt(3),Math.sqrt(3);const _=1/6,T=(Math.sqrt(5),Math.sqrt(5),e=>0|Math.floor(e)),D=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function E(e){const t=512,p=new Uint8Array(t);for(let i=0;i<256;i++)p[i]=i;for(let i=0;i<255;i++){const t=i+~~(e()*(256-i)),r=p[i];p[i]=p[t],p[t]=r}for(let i=256;i<t;i++)p[i]=p[i-256];return p}var P,F,z,I,O=!1,B=0,L={iron:{baseColor:[171,175,179],shininess:1.1},stone:{baseColor:[204,178,141],shininess:.85},ice:{baseColor:[141,170,204],shininess:1.3},carbon:{baseColor:[110,109,107],shininess:1.1},gold:{baseColor:[235,211,106],shininess:1.1}},j={mounted:function(){this.setupThree(),this.resizeRender(),I||this.addAsteroid(),this.$addEventListener("resize",this.resizeRender),P.add(I),O=!1,window.requestAnimationFrame(this.animate)},props:{asteroidSize:{required:!0,type:Number},asteroidSpeed:{required:!0,type:Number},asteroidAngle:{required:!0,type:Number},asteroidType:{required:!0,type:String},isMobile:{required:!0,type:Boolean},hideMobile:{required:!0,type:Boolean}},computed:{yRotation:function(){return.015*Math.cos(this.asteroidAngle)*this.asteroidSpeed},xRotation:function(){return.015*Math.sin(this.asteroidAngle)*this.asteroidSpeed}},watch:{asteroidSize:function(){I.material.uniforms.asteroidSize.value=this.asteroidSize},asteroidType:function(){var e=L[this.asteroidType];I.material.uniforms.baseColor.value=e.baseColor,I.material.uniforms.shininess.value=e.shininess},hideMobile:function(){this.isMobile&&!this.hideMobile&&this.animate()}},beforeDestroy:function(){O=!0,I.geometry.dispose(),I.material.dispose(),z.renderLists.dispose(),I=null,B=0},methods:{setupThree:function(){P=new S.S,(F=new S.J(75,1,1,5)).position.z=4,(z=new S.fb({canvas:this.$refs.render,alpha:!1,stencil:!1,antialias:!0,powerPreference:"high-performance"})).setClearColor(16777215)},resizeRender:function(){var e=this.isMobile?3:2,t=window.innerHeight>660?190:160;z.setSize(t,t),z.setPixelRatio(Math.min(e,window.devicePixelRatio))},getShaderMaterial:function(){var e=(new S.ab).load("/asteroid-launcher/noise.png",(function(){I.visible=!0}));return e.wrapS=S.Q,e.wrapT=S.Q,new S.T({uniforms:{asteroidSize:{value:this.asteroidSize},noise:{type:"t",value:e},baseColor:{value:L[this.asteroidType].baseColor},shininess:{value:L[this.asteroidType].shininess}},vertexShader:"\n        varying vec2 vUv;\n        varying vec3 v_Light;\n        varying vec3 v_Normal;\n        uniform float asteroidSize;\n\n        void main() {\n          vUv = uv;\n\n          vec3 newPosition = position * mix(.5, .9, asteroidSize);\n\n          vec4 viewPosition = modelViewMatrix * vec4(newPosition, 1.0);\n          vec4 viewSunPos = viewMatrix * vec4(vec3(1.5, 3.0, 6.0), 1.0);\n\n          v_Normal = normalMatrix * normal;\n          v_Light = normalize(viewSunPos.xyz - viewPosition.xyz);\n\n          gl_Position = projectionMatrix * viewPosition;\n        }\n        ",fragmentShader:"\n        varying vec2 vUv;\n        varying vec3 v_Normal;\n        varying vec3 v_Light;\n        uniform sampler2D noise;\n        uniform float asteroidSize;\n        uniform vec3 baseColor;\n        uniform float shininess;\n        \n        void main()\t{\n          float n = texture2D(noise, vUv * 2. + .3).r * .7;\n          n += texture2D(noise, vUv * 15. + .2).r * .5;\n          n += texture2D(noise, vUv * 45. + .1).r * .2;\n\n          float light = dot(v_Light, v_Normal);\n          light *= n * 2.3;\n\n          vec3 color = baseColor / 255.0;\n\n          color *= n;\n          color *= shininess * light;\n\n          gl_FragColor = vec4(color, 1.0);\n        }\n        "})},addAsteroid:function(){var e=new S.X(2,60,60);this.shapeAsteroid(e),(I=new S.C(e)).visible=!1,I.material=this.getShaderMaterial(),I.matrixAutoUpdate=!1},shapeAsteroid:function(e){for(var t=function(e=Math.random){const t=E(e),r=new Float64Array(t).map((e=>D[e%12*3])),n=new Float64Array(t).map((e=>D[e%12*3+1])),o=new Float64Array(t).map((e=>D[e%12*3+2]));return function(e,l,c){let d,f,h,m;const s=.3333333333333333*(e+l+c),i=T(e+s),v=T(l+s),y=T(c+s),x=(i+v+y)*_,w=e-(i-x),M=l-(v-x),C=c-(y-x);let R,k,A,S,D,E;w>=M?M>=C?(R=1,k=0,A=0,S=1,D=1,E=0):w>=C?(R=1,k=0,A=0,S=1,D=0,E=1):(R=0,k=0,A=1,S=1,D=0,E=1):M<C?(R=0,k=0,A=1,S=0,D=1,E=1):w<C?(R=0,k=1,A=0,S=0,D=1,E=1):(R=0,k=1,A=0,S=1,D=1,E=0);const P=w-R+_,F=M-k+_,z=C-A+_,I=w-S+2*_,O=M-D+2*_,B=C-E+2*_,L=w-1+.5,j=M-1+.5,U=C-1+.5,W=255&i,N=255&v,$=255&y;let V=.6-w*w-M*M-C*C;if(V<0)d=0;else{const e=W+t[N+t[$]];V*=V,d=V*V*(r[e]*w+n[e]*M+o[e]*C)}let H=.6-P*P-F*F-z*z;if(H<0)f=0;else{const e=W+R+t[N+k+t[$+A]];H*=H,f=H*H*(r[e]*P+n[e]*F+o[e]*z)}let G=.6-I*I-O*O-B*B;if(G<0)h=0;else{const e=W+S+t[N+D+t[$+E]];G*=G,h=G*G*(r[e]*I+n[e]*O+o[e]*B)}let J=.6-L*L-j*j-U*U;if(J<0)m=0;else{const e=W+1+t[N+1+t[$+1]];J*=J,m=J*J*(r[e]*L+n[e]*j+o[e]*U)}return 32*(d+f+h+m)}}(),r=e.attributes.position,n=e.attributes.normal,o=new S.db,l=new S.db,i=0;i<r.count;i++){var c=o.fromBufferAttribute(r,i),d=l.fromBufferAttribute(n,i),f=.35*t(c.x/3,c.y/3,c.z/3)+.15*t(c.x/2,c.y/2,c.z/2)+.1*t(c.x/1,c.y/1,c.z/1);c.addScaledVector(d,f),r.setX(i,c.x),r.setY(i,c.y),r.setZ(i,c.z)}e.computeVertexNormals(),e.attributes.position.needsUpdate=!0},animate:function(time){if(I){var e=time-B;time-B>20&&(I.rotation.y+=this.yRotation*(.05*e),I.rotation.x+=this.xRotation*(.05*e),I.updateMatrix(),z.render(P,F),B=time)}O||this.isMobile&&this.hideMobile||requestAnimationFrame(this.animate)}}},U=(r(822),Object(h.a)(j,(function(){return(0,this._self._c)("canvas",{ref:"render",staticClass:"render"})}),[],!1,null,"28728635",null).exports),W=[{type:"iron",name:"Iron Asteroid",density:5320},{type:"stone",name:"Stone Asteroid",density:2710},{type:"carbon",name:"Carbon Asteroid",density:1380},{type:"ice",name:"Comet",density:600},{type:"gold",name:"Gold Asteroid",density:19300}],N={components:{Slider:m,Results:A,Asteroid:U},props:{showResults:{required:!0,type:Boolean},resultData:{required:!0,type:Object},popData:{required:!0,type:Object},placeSelected:{required:!0,type:Boolean},isMobile:{required:!0,type:Boolean},mobileResultType:{required:!0,type:String},hideMobile:{required:!0,type:Boolean},system:{required:!0,type:String},mapType:{required:!0,type:String},isDropping:{required:!0,type:Boolean}},data:function(){return{diameter:"metric"===this.system?500:457,speed:17e3,angle:45,typeIndex:0,didScroll:!1,hideFade:!1,showInfo:!1}},mounted:function(){this.$emit("inputChange",this.inputParams)},computed:{inputParams:function(){return{diameter:this.diameter,speed:this.speed,angle:this.angle,density:this.asteroidType.density}},asteroidType:function(){return W[this.typeIndex]},lengthRange:function(){return"metric"===this.system?{min:1,max:1500}:{min:1,max:1609.34}},speedRange:function(){return"metric"===this.system?{min:1e3,max:1e5}:{min:447,max:111757.3}}},watch:{diameter:function(){this.$emit("inputChange",this.inputParams)},speed:function(){this.$emit("inputChange",this.inputParams)},angle:function(){this.$emit("inputChange",this.inputParams)},asteroidType:function(){this.$emit("inputChange",this.inputParams)}},methods:{nextType:function(){this.typeIndex=(this.typeIndex+1)%W.length},prevType:function(){this.typeIndex=(this.typeIndex+W.length-1)%W.length},scrollDown:function(){for(var e=document.querySelectorAll(".section-trigger"),t=1;t<e.length;t++){var r=e[t];if(r.getBoundingClientRect().top>75)return void r.scrollIntoView({behavior:"smooth"})}}}},$=(r(824),Object(h.a)(N,(function(){var e=this,t=e._self._c;return e.showResults||e.showInfo?e.showResults?t("div",{ref:"sidebar",staticClass:"side-bar",class:{hide:e.hideMobile},attrs:{id:"sidebar"}},[t("img",{staticClass:"close mobile-only",attrs:{src:"/asteroid-launcher/icons/close.svg"},on:{click:function(t){return e.$emit("hideMobile")}}}),e._v(" "),t("div",{staticClass:"title desktop-only"},[e._v("Results")]),e._v(" "),t("Results",{attrs:{mapType:e.mapType,didScroll:e.didScroll,resultData:e.resultData,popData:e.popData,isMobile:e.isMobile,mobileResultType:e.mobileResultType},on:{mapChange:function(t){return e.$emit("mapChange",t)},fadeChange:function(t){return e.hideFade=t}}}),e._v(" "),t("div",{staticClass:"launch-another-wrapper desktop-only"},[t("button",{staticClass:"cta",on:{click:function(t){return e.$emit("reset")}}},[e._v("Launch Another")])]),e._v(" "),t("div",{staticClass:"fade desktop-only",class:{"hide-fade":e.hideFade}}),e._v(" "),t("img",{staticClass:"down-arrow desktop-only",class:{"hide-fade":e.hideFade},attrs:{src:"/asteroid-launcher/icons/down-chevron.svg"},on:{click:e.scrollDown}})],1):t("div",{staticClass:"side-bar side-bar-input",class:{hide:e.hideMobile},attrs:{id:"sidebar"}},[t("img",{staticClass:"info-back",attrs:{src:"/asteroid-launcher/icons/left-chevron.svg"},on:{click:function(t){e.showInfo=!1}}}),e._v(" "),t("div",{staticClass:"title"},[e._v("About")]),e._v(" "),t("div",{staticClass:"info-desc"},[e._m(0),e._v(" "),t("p",[e._v("\n      The simulation is based on papers by Dr. Gareth Collins and Dr. Clemens\n      Rumpf.\n    ")]),e._v(" "),e._m(1),e._v(" "),t("a",{staticClass:"source",attrs:{href:"https://eprints.soton.ac.uk/412703/",target:"_blank"}},[e._v("\n      Asteroid impact risk\n    ")]),e._v(" "),t("a",{staticClass:"source",attrs:{href:"https://impact.ese.ic.ac.uk/ImpactEarth/ImpactEffects/effects.pdf",target:"_blank"}},[e._v("\n      Earth Impact Effects Program\n    ")]),e._v(" "),t("a",{staticClass:"source",attrs:{href:"https://www.researchgate.net/publication/313857682_Population_Vulnerability_Models_for_Asteroid_Impact_Risk_Assessment",target:"_blank"}},[e._v("\n      Population Vulnerability Models for Asteroid Impact Risk Assessment\n    ")]),e._v(" "),t("a",{staticClass:"source",attrs:{href:"https://www.osti.gov/biblio/6852629",target:"_blank"}},[e._v("\n      The Effects of Nuclear Weapons. Third edition\n    ")]),e._v(" "),t("a",{staticClass:"source",attrs:{href:"https://www.fema.gov/pdf/plan/prevent/rms/426/fema426_ch4.pdf",target:"_blank"}},[e._v("\n      FEMA Blast Effects\n    ")]),e._v(" "),t("a",{staticClass:"source",attrs:{target:"_blank",href:"https://sedac.ciesin.columbia.edu/data/collection/gpw-v4"}},[e._v("Gridded Population of the World v4\n    ")]),e._v(" "),t("div",{staticClass:"info-more"},[e._v("View more projects on")]),e._v(" "),t("nuxt-link",{attrs:{to:"/"}},[t("img",{staticClass:"info-logo",attrs:{src:"/general/logo.svg"}})])],1)]):t("div",{staticClass:"side-bar side-bar-input",class:{hide:e.hideMobile},attrs:{id:"sidebar"}},[t("div",{staticClass:"title"},[e._v("Asteroid launcher")]),e._v(" "),t("div",{staticClass:"asteroid-wrapper"},[t("img",{staticClass:"asteroid-arrow asteroid-arrow-left",attrs:{src:"/asteroid-launcher/icons/left-chevron.svg"},on:{click:e.prevType}}),e._v(" "),t("Asteroid",{attrs:{asteroidSize:e.diameter/e.lengthRange.max,asteroidSpeed:e.speed/e.speedRange.max,asteroidAngle:e.angle*(Math.PI/180),asteroidType:e.asteroidType.type,isMobile:e.isMobile,hideMobile:e.hideMobile}}),e._v(" "),t("div",{staticClass:"asteroid-type"},[e._v(e._s(e.asteroidType.name))]),e._v(" "),t("img",{staticClass:"asteroid-arrow asteroid-arrow-right",attrs:{src:"/asteroid-launcher/icons/right-chevron.svg"},on:{click:e.nextType}})],1),e._v(" "),t("Slider",{attrs:{title:"Diameter",icon:"diameter",displayType:"displayLength",default:e.diameter,max:e.lengthRange.max,min:e.lengthRange.min,system:e.system},on:{change:function(t){return e.diameter=t}}}),e._v(" "),t("Slider",{attrs:{title:"Speed",icon:"speed",displayType:"displaySpeed",default:e.speed,max:e.speedRange.max,min:e.speedRange.min,system:e.system},on:{change:function(t){return e.speed=t}}}),e._v(" "),t("Slider",{attrs:{title:"Impact angle",icon:"angle",displayType:"displayAngle",default:e.angle,max:90,min:5,system:e.system},on:{change:function(t){return e.angle=t}}}),e._v(" "),t("button",{staticClass:"cta desktop-only",attrs:{disabled:!e.placeSelected||e.isDropping},on:{click:function(t){return e.$emit("dropAsteroid")}}},[e._v("\n    "+e._s(e.isDropping?"Launching...":"Launch Asteroid")+"\n  ")]),e._v(" "),t("button",{staticClass:"cta mobile-only",on:{click:function(t){return e.$emit("hideMobile")}}},[e._v("\n    Choose impact location\n    "),t("img",{staticClass:"cta-icon",attrs:{src:"/asteroid-launcher/icons/right-arrow.svg"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.placeSelected,expression:"!placeSelected"}],staticClass:"instruction desktop-only"},[e._v("\n    Select an impact location\n  ")]),e._v(" "),t("img",{staticClass:"info-icon",attrs:{src:"/asteroid-launcher/icons/info.svg"},on:{click:function(t){e.showInfo=!0}}}),e._v(" "),t("div",{staticClass:"switch-unit desktop-only",on:{click:function(t){return e.$emit("switchSystem")}}},[e._v("\n    Use "+e._s("metric"===e.system?"imperial":"metric")+"\n  ")])],1)}),[function(){var e=this,t=e._self._c;return t("p",[e._v("\n      This is an asteroid simulator made with ❤️ by\n      "),t("b",[t("a",{attrs:{target:"_blank",href:"https://twitter.com/nealagarwal"}},[e._v("Neal Agarwal")])]),e._v(".\n    ")])},function(){var e=this._self._c;return e("p",[e("b",[this._v("Sources")])])}],!1,null,"835f42ae",null).exports),V=(r(50),r(43),r(45),r(87),r(88),r(34)),H=(r(826),r(297)),G=r.n(H);function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(V.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function K(e){return Math.round(e)}function X(data,e){return 0!==e&&e?data[K(e)]:0}function Z(data,e){var t=0,r=[];return e.forEach((function(e){var n=Y({},e),o=X(data,e.radius),l=Math.max(o-t,0);n.pop=l,r.push(n),l>0&&(t=o)})),r}function Q(data,e,t,r,n){if(r<=0)return 0;for(var o=function(e,t){return X(data,t)-X(data,e)},l=0,c=0,d=0,f=0;f<e.length;f++){d=e[f].radius;var h=o(Math.max(c,t),Math.min(d,r));h>0&&(l+=h*re(n,e[f].intensity)),c=d}return Math.max(0,Math.min(l/o(t,r),1))}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,o,l,c,d,f,h,m,v,y,data,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.finalCraterDiameter,o=t.seismicCutoffs,l=t.overpressureCutoffs,c=t.thermalCutoffs,d=t.efCutoffs,f=t.treesBurnRadius,h=t.thirdDegreeBurnRadius,v=[{name:"craterDeaths",type:"crater",cutoffs:[{radius:n/2,intensity:1}],isDeath:!0},{name:"thermalDeaths",type:"thermal",cutoffs:c||[{radius:0}],isDeath:!0},{name:"seismicDeaths",type:"seismic",cutoffs:o||[{radius:0}],isDeath:!0},{name:"overpressureDeaths",type:"overpressure",cutoffs:l,isDeath:!0},{name:"windDeaths",type:"wind",cutoffs:d,isDeath:!0},{name:"thirdDegreeBurn",type:"burn3",cutoffs:[{intensity:1,radius:h||0}],isDeath:!1},{name:"secondDegreeBurn",type:"burn2",cutoffs:[{intensity:1,radius:f||0}],isDeath:!1}],(m=[]).push(K(n/2)),v.forEach((function(e){e.cutoffs&&e.cutoffs.forEach((function(e){e.radius&&m.push(K(e.radius))}))})),e.next=7,ne(t.targetLat,t.targetLng,m);case 7:y=e.sent,performance.now(),data={},m.forEach((function(e,i){data[e]=y[i]})),x={},v.forEach((function(e,i){var t=Z(data,e.cutoffs).map((function(a){return Y({},a)})),r=0;t.forEach((function(e,n){for(var o=0;o<=i;o++){var l=v[o].type,c=Q(data,v[o].cutoffs,0===n?0:t[n-1].radius,e.radius,l),d=e.pop*c;o===i&&(e.deaths=d,r+=d),v[o].isDeath&&(e.pop=Math.max(e.pop-d,0))}})),x[e.name]=r})),0,Object.keys(x).forEach((function(e){x[e]})),r(x);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){if("crater"===e)return 1;if("burn2"===e||"burn3"===e)return.5;var r={seismic:{a:1,b:-2.516,c:-8.686},overpressure:{a:1,b:-2424e-8,c:-440400},wind:{a:1,b:-.05483,c:-112.4},thermal:{a:.47,b:-5623e-9,c:-731600}}[e],a=r.a,b=r.b,n=r.c,o=a*(1/(1+Math.exp(b*(t+n))));return Math.min(Math.max(o,0),1)}function ne(e,t,r){return ie.apply(this,arguments)}function ie(){return(ie=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="https://lobster-app-bhpix.ondigitalocean.app/?lat=".concat(t,"&lng=").concat(r),n.forEach((function(e){return o+="&radii=".concat(e)})),e.next=4,G()({method:"get",url:o});case 4:return l=e.sent,e.abrupt("return",l.data.populations);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=1e5,oe=34473.8,se=65e4,le=172369,ce=20684,ue=16e5,de=1e6,pe=42e4,fe=2e5,he=447.04,me=223.52,ve=89.4,be=60.7974,ye=40.2336;function ge(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function xe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ge(Object(source),!0).forEach((function(t){Object(V.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ge(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var we=r(828),Me=8e3,Ce=9.80665;function Re(e){var t,r=e.asteroidSpeed,n=(t=e.asteroidDensity,Math.pow(10,2.107+.0624*Math.sqrt(t))),o=function(e){var t=e.asteroidDiameter,r=e.asteroidDensity,n=e.asteroidSpeed,o=e.impactAngle,l=e.yieldStrength,c=65120.00000000001*l,d=r*t*Math.pow(n,2)*Math.sin(o);return c/d}(xe(xe({},e),{},{yieldStrength:n}));return-8e3*(Math.log(n/(1*Math.pow(r,2)))+1.308-.314*o-1.303*Math.sqrt(1-o))}function ke(e){var t=e.asteroidDiameter,r=e.asteroidDensity,n=e.impactAngle,o=Ae(e.breakupAltitude);return t*Math.sin(n)*Math.sqrt(r/(2*o))}function Ae(e){return 1*Math.exp(-e/Me)}function Se(e){var t=e.asteroidSpeed,r=e.asteroidDiameter,n=e.asteroidDensity,o=e.impactAngle,l=3*Ae(e.altitude)*2*Me,c=4*n*r*Math.sin(o);return t*Math.exp(-l/c)}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.asteroidDiameter,n=e.impactVelocity,o=e.asteroidDensity,l=e.impactAngle,c=e.targetDensity,d=e.isWaterImpact,f=e.seafloorVelocity,h=t?1.365:1.161,m=!d||t?n:f,v=t?1e3:c;return h*Math.pow(o/v,1/3)*Math.pow(r,.78)*Math.pow(m,.44)*Math.pow(Ce,-.22)*Math.pow(Math.sin(l),1/3)}function Te(e,t){var r=e.asteroidDiameter,n=e.asteroidDensity;return.5*(4/3*Math.PI*Math.pow(r/2,3)*n)*Math.pow(t,2)}function De(e){return 23901e-17*e}function Ee(e,t){var r=e.impactEnergyKt,n=e.airburstAltitude,o=e.isAirburst;if(t<0)return 0;o&&(t=Math.pow(Math.pow(t,2)+Math.pow(n,2),.5));var l=t/Math.pow(r,1/3);return 2175e4/(4*l)*(1+3*Math.pow(290/l,1.3))}function Pe(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e5;function l(n){return t(e,n)-r}var c=we(l,o,{verbose:!1,maxIterations:40,tolerance:n});return!c&&o>100?Pe(e,t,r,n,o/10):c>0?c:0}function Fe(e){var t=e.isImperial,r=[];return[{speed:he,desc:t?"1,000 MPH Wind":"1,500 KM/H Wind",type:"jupiterWindRadius"},{speed:me,desc:t?"500 MPH Wind":"800 KM/H Wind",type:"homesLeveledRadius"},{speed:ve,desc:t?"EF5 Wind (200mph+)":"EF5 Wind (320km/h+)",type:"ef5Radius"},{speed:be,desc:t?"EF3 Wind (136mph+)":"EF3 Wind (220km/h+)"},{speed:ye,desc:"Trees knocked down",type:"treesFallRadius"}].forEach((function(t,i){var n=function(e){return 7*e*1e5*(3*e+Math.pow(9*Math.pow(e,2)+25*Math.pow(331,2),.5))/(25*Math.pow(331,2))}(t.speed),o=Pe(e,Ee,n);t.type&&(e[t.type]=o),r.push({intensity:t.speed,radius:o,desc:t.desc})})),r}function ze(e,t){var r=e.impactEnergyJ,n=e.fireballRadius,o=6371e3,l=t/o,c=(1-Math.cos(l))*o,s=Math.acos(c/n),d=2/Math.PI*(s-c/n*Math.sin(s));return.003*r/(2*Math.PI*Math.pow(t,2))*(d=d||0)}function Ie(e,t){var r=e.impactVelocity,n=e.airburstAltitude,o=e.asteroidDiameter,l=7e5*r-1e10,c=(-4e-16*Math.pow(r,6)+7e-11*Math.pow(r,5)-5e-6*Math.pow(r,4)+.176*Math.pow(r,3)-3160.6*Math.pow(r,2)+3e7*r-1e11-l)/15e3*(4e4-n)+l,d=Math.sqrt(Math.pow(n,2)+Math.pow(t,2));return c*Math.pow(o/(2*d),2)*5}function Oe(e,t){return e.isAirburst?Pe(e,Ie,t,.03):Pe(e,ze,function(e,t){var r=e.impactEnergyKt,n=.003;return t*Math.pow(n*r,1/6)}(e,t))}function Be(e){var t,r,n=Re(e),o=function(e){var t=Re(e),r=ke(xe(xe({},e),{},{breakupAltitude:t}));return t-16e3*Math.log(1+r/16e3*Math.sqrt(Math.pow(7,2)-1))}(e);if(n&&n>0?o&&o>0?(e.isAirburst=!0,e.showAirburst=!0,e.airburstAltitude=o,e.impactVelocity=Se(xe(xe({},e),{},{altitude:o}))):(e.impactVelocity=function(e){var t=e.asteroidDensity,r=e.asteroidDiameter,n=e.impactAngle,o=Re(e),l=ke(xe(xe({},e),{},{breakupAltitude:o})),c=6*Ae(o)*Math.pow(Me,3)*Math.pow(r,2),d=4*t*Math.pow(r,3)*Math.sin(n)*3*Math.pow(l,2),f=3*(4+Math.pow(l/Me,2))*Math.exp(o/Me)+6*Math.exp(2*o/Me)-16*Math.exp(3*o/16e3)-3*Math.pow(l/Me,2)-2,h=Math.exp(c/d*-1*f);return Se(xe(xe({},e),{},{altitude:o}))*h}(e),e.impactDiameter=function(e){var t=e.asteroidDiameter,r=Re(e),n=ke(xe(xe({},e),{},{breakupAltitude:r})),o=Math.pow(Math.exp((r-0)/16e3)-1,2),l=1+Math.pow(16e3/n,2)*o;return t*Math.sqrt(l)}(e)):(e.impactVelocity=Se(xe(xe({},e),{},{altitude:0})),e.impactDiameter=e.asteroidDiameter),e.recurrence=(r=De(Te(t=e,t.asteroidSpeed))/1e3,109*Math.pow(r,.78)),e.impactEnergyJ=Te(e,e.impactVelocity),e.impactEnergyKt=De(e.impactEnergyJ),e.impactVelocity&&e.impactDiameter&&(e.isWaterImpact&&(e.seafloorVelocity=function(e){var t=e.impactVelocity,r=e.impactDiameter,n=e.asteroidDensity,o=e.impactAngle;return t*Math.exp(-9703128/(2*n*r*Math.sin(o)))}(e),e.seafloorEnergyJ=Te(e,e.seafloorVelocity),e.waterTransientCraterDiameter=_e(e,!0),e.tsunamiHeight=function(e){var t=e.waterTransientCraterDiameter,r=t;return Math.min(.14*t,3688)*(t/(2*r))}(e)),e.transientCraterDiameter=_e(e),e.transientCraterDiameter>0)){var l=function(e){var t,r;if(e&&e<2560){t=1.25*e;var n=Math.pow(e,4)/Math.pow(t,3)*.07,o=e/(2*Math.sqrt(2));r=o+n-.032*Math.pow(t,3)*2.8*((o+n)/(o*Math.pow(t,2)))}else t=Math.pow(e,1.13)/Math.pow(3200,.13)*1.17,r=294*Math.pow(t/1e3,.301);return{diameter:t,depth:r}}(e.transientCraterDiameter);return e.finalCraterDiameter=l.diameter,e.finalCraterDepth=l.depth,e.showCrater=!0,void(e.impactedGround=!0)}e.finalCraterDiameter=0,e.finalCraterDepth=0}function Le(e){var t;e.impactVelocity>15e3?(e.fireballRadius=function(e){var t=e.impactEnergyJ;if(e.impactVelocity>=15e3)return.002*Math.pow(t,1/3)}(e),e.thermalCutoffs=(t=e,[15e5,1e6,75e4,5e5,25e4,1e5].map((function(e){return{intensity:e,radius:Oe(t,e)}}))),e.burnCutoffs=function(e){var t=e.fireballRadius,r=[{thresh:ue,desc:"50% fatalities"},{thresh:de,desc:"Clothes catch on fire",type:"clothesBurnRadius"},{thresh:pe,desc:"3rd degree burns",type:"thirdDegreeBurnRadius"},{thresh:fe,desc:"2nd degree burns",type:"treesBurnRadius"}],n=[];return e.impactedGround&&n.push({intensity:1e5,radius:t,desc:"Fireball"}),r.forEach((function(t,i){var r=Oe(e,t.thresh);t.type&&(e[t.type]=r),n.push({intensity:t.thresh,radius:r,desc:t.desc,optional:t.optional})})),n}(e),e.burnCutoffs[e.burnCutoffs.length-1].radius>0&&(e.showFireball=!0)):e.showFireball=!1}function je(e){var t,r,n;e.overpressureCutoffs=(t=e,r=[],[1e6,75e4,5e5,25e4,1e5,5e4,1e4].forEach((function(e){var n=Pe(t,Ee,e);r.push({radius:n,intensity:e})})),r),e.overpressureEffectCutoffs=function(e){var t=[];return[{thresh:se,desc:"99% Fatalities"},{thresh:le,desc:"Severe lung damage",type:"lungDamageRadius"},{thresh:ae,desc:"Eardrums rupture",type:"eardrumRuptureRadius"},{thresh:oe,desc:"Buildings collapse",type:"buildingCollapseRadius"},{thresh:ce,desc:"Homes collapse",type:"homesCollapseRadius"}].forEach((function(r){var n=Pe(e,Ee,r.thresh);r.type&&(e[r.type]=n),t.push({radius:n,intensity:r.thresh,desc:r.desc,optional:r.optional})})),t}(e),e.decibels=(n=Ee(e,e.finalCraterDiameter/2||1e3),20*Math.log10(n/19995e-9)),e.overpressureEffectCutoffs[e.overpressureEffectCutoffs.length-1].radius>0&&(e.showPressure=!0)}function Ue(e){var t,r,n;e.efCutoffs=Fe(e),e.peakWindSpeed=(t=e,r=e.finalCraterDiameter/2||100,5*(n=Ee(t,r))*331/(7e5*Math.pow(1+6*n/7e5,.5))),e.efCutoffs[e.efCutoffs.length-1].radius>0&&(e.showWind=!0)}function qe(e){var t,r,n,o;e.impactedGround&&(e.seismicMagnitude=(r=(t=e).impactEnergyJ,n=t.seafloorEnergyJ,o=t.isWaterImpact?n:r,.67*Math.log10(o)-5.87-.0238*6.2),e.seismicCutoffs=function(e){for(var t=e.impactEnergyJ,r=e.seafloorEnergyJ,n=e.isWaterImpact?r:t,o=.67*Math.log10(n)-5.87,l=Math.floor(o),c=[];l>=5;){var d=(l-o)/-.0238;d>=60&&(d=(l-o+1.1644)/-.0048),c.push({intensity:l,radius:1e3*d,desc:"Magnitude ".concat(l.toFixed(1))}),l--}return c}(e),e.seismicCutoffs.length>0&&(e.seismicFeel=e.seismicCutoffs[e.seismicCutoffs.length-1].radius,e.showEarthquake=!0))}function We(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isWaterImpact?t.targetDensity=2700:t.targetDensity=2500;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(t);case 2:return Be(t),Le(t),je(t),Ue(t),qe(t),ee(t,r),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Math.PI,r(404),r(433),r(409),r(410),r(411),r(412),r(413),r(414),r(415),r(416),r(417),r(418),r(419),r(420),r(421),r(422),r(424),r(425),r(426),r(427),r(428),r(429),r(430),r(431),r(432);var He,Ge,Je,Ye,Ke,Xe=r(351),Ze={position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]},Qe="\n  precision highp float;\n\n  uniform vec2 resolution;\n  uniform vec2 center;\n  uniform float time;\n  uniform float impactTime;\n  uniform float craterRadius;\n  uniform sampler2D noise;\n  uniform int type;\n  uniform int numRings;\n  uniform float largestRing;\n  uniform bool showImpact;\n  uniform float explosionSize;\n  uniform bool isMobile;\n  uniform float impactTimeEase;\n\n  struct Ring {\n    float radius;\n    float intensity;\n    vec4 color;\n  };\n\n  uniform Ring rings[6];\n  \n  ".concat("\nfloat invLerp(float from, float to, float value){\n  return clamp((value - from) / (to - from), 0.0, 1.0);\n}\n\nvec4 getImpactColor(vec2 uv, float dist) {\n  vec4 color;\n\n  //Light\n  float light = pow(dist * .7 / explosionSize, .09);\n  float brightness = invLerp(0.0, 1000.0, impactTime) * impactTimeEase - invLerp(2500.0, 5000.0, impactTime);\n  color = (1.0 - light + brightness * 1.1) * vec4(1.0, .9, .9, 1.0);\n\n  //Shock wave\n  float size = explosionSize * 5.0;\n  float interval = 1000.0 * size;\n  float shock = smoothstep(interval - size / 2.5, interval, mod((dist - impactTime * .0008 * size + size / 1.5), interval)) * .1;\n  shock /= texture2D(noise, (uv - center) * 3.0).r;\n  color += color * vec4(vec3(shock), max(0., shock - (dist / size) * .012));\n\n  color *= 1.0 - invLerp(4500.0, 5000.0, impactTime);\n  \n  return color;\n}\n","\n\n  vec4 getCraterColor (vec2 uv, float dist) {\n    vec4 color1 = vec4(0.8705, 0.5529, 0.3568, 1.0);\n    vec4 color2 = vec4(0.5215, 0.3019, 0.2039, 1.0);\n    vec4 color3 = vec4(0.4196, 0.2392, 0.14509, 1.0);\n    vec4 color4 = vec4(0.3215, 0.18039, 0.1137, 1.0);\n\n    float step1 = 0.0;\n    float step2 = .84 * craterRadius;\n    float step3 = .90 * craterRadius;\n    float step4 = craterRadius;\n\n\n    vec4 color = mix(color1, color2, smoothstep(step1, step2, dist));\n    color = mix(color, color3, smoothstep(step2, step3, dist));\n    color = mix(color, color4, smoothstep(step3, step4, dist));\n\n    vec2 coord = (uv - center) / (craterRadius * 5.0);\n    float coordLength = length(coord);\n    vec2 polar = vec2(coordLength, atan(coord.y, coord.x));\n\n    vec4 mark = texture2D(noise, polar) * 2.7;\n    mark.a = 1.0;\n\n    color = mix(color, color * mark, smoothstep(.05, .1, coordLength));\n\n    color.rgb -= texture2D(noise, coord * .7).r * .3;\n\n    return color;\n  }\n\n  float circle(vec2 uv, float dist, float innerRadius, float outerRadius) {\n    return step(innerRadius, dist) * (1.0 - step(outerRadius, dist));\n  }\n\n  float outline(float dist, float radius) {\n    return 1.0 - smoothstep(0.0, .005, abs(radius - dist));\n  }\n  \n  #define NUM_OCTAVES 5\n  float fbm( in vec2 _st) {\n    float v = 0.0;\n    float a = 0.5;\n    vec2 shift = vec2(100.0);\n    mat2 rot = mat2(cos(0.5), sin(0.5),\n                    -sin(0.5), cos(0.50));\n    for (int i = 0; i < NUM_OCTAVES; ++i) {\n        v += a * texture2D(noise, _st).r;\n        _st = rot * _st * 2.0 + shift;\n        a *= 0.5;\n    }\n    return v;\n  }\n\n\n  void main() {\n    vec2 uv = gl_FragCoord.xy / resolution;\n    uv.x *= resolution.x / resolution.y;\n\n    float dist = distance(uv, center);\n\n    vec4 color;\n\n    if (showImpact) {\n      color = getImpactColor(uv, dist);\n    }\n    \n    if (dist < craterRadius && type != 2) {\n      float craterCircle = circle(uv, dist, 0.0, craterRadius);\n      float showCrater = step(2500.0 * float(showImpact), impactTime);\n      gl_FragColor = color + getCraterColor(uv, dist) * showCrater;\n      return;\n    }\n\n    if (showImpact || numRings == 0) {\n      gl_FragColor = color;\n      return;\n    }\n\n    float prevInnerRadius = craterRadius;\n\n    if (type == 2) {\n      prevInnerRadius = 0.0;\n    }\n\n    int x = 0;\n    Ring ring = rings[0];\n\n    for (int i = 1; i < 6; i++) {\n      if (i < numRings && dist <= rings[i].radius && dist > rings[i - 1].radius) {\n        ring = rings[i];\n        prevInnerRadius = rings[i - 1].radius;\n        x = i;\n      }\n    }\n\n    vec4 ringColor = ring.color / 255.0;\n\n    ringColor = mix(ringColor, ringColor * (1.0, 1.0, 1.0, 2.0), outline(dist, ring.radius));\n    float size = largestRing / 15.0;\n\n    if (type == 0) {\n      ringColor.a += ring.intensity * .01;\n    } else if (type == 1) {\n      vec2 coord = (uv - center);\n      float l = length(coord) / size / 10.0;\n      vec2 polar = vec2(l - time * .00012, atan(coord.y, coord.x));\n      ringColor += fbm(polar) * ring.intensity * .9;\n    } else if (type == 2) {\n      vec2 coord = (uv - center) * 4.0;\n      vec2 coord2 = coord;\n\n      coord2 = isMobile ? coord2 / size : coord2;\n\n      float text1 = texture2D(noise, coord2 - vec2(-time * .0001, time * .0001)).r;\n      float text2 = texture2D(noise, coord2 * 1.6 - time * .00011).r;\n      float text3 = texture2D(noise, coord2 * .5 + time * .00012).r;\n\n      float textTotal = (text1 + text2 + text3) / 3.0;\n\n      float fireball = pow((length(coord) / rings[3].radius * .5) * textTotal, .4);\n\n      ringColor = craterRadius > 0.0 ? ringColor /= fireball : ringColor;\n\n      ringColor.rgb /= textTotal * 2.14;\n    } else if (type == 3) {\n      float interval = 15.0 * size;\n      vec2 coord = (uv - center);\n\n      coord = isMobile ? coord / size * .3 : coord;\n\n      float shock = smoothstep(interval - size * 2.0, interval, mod((dist - time * .002 * size), interval)) * .3;\n\n      shock /= texture2D(noise, coord * 3.0).r;\n      shock *= clamp(1.9 * ring.intensity, 0.5, 1.0);\n\n      ringColor += vec4(vec3(shock), max(0., shock - (dist / size) * .012));\n      ringColor.b += ring.intensity * .3;\n      ringColor.r += ring.intensity * .15;\n      ringColor.a += ring.intensity * .2;\n    }\n\n    color = mix(color, ringColor, circle(uv, dist, prevInnerRadius, ring.radius));\n    //color.rgb -= ring.intensity * .3;\n\n    color = clamp(color, vec4(0), vec4(1));\n\n    color.rgb *= color.a;\n\n    gl_FragColor = vec4(color);\n  }\n");function et(){Xe.g(He.canvas,Math.min(window.devicePixelRatio,2)),He.viewport(0,0,He.canvas.width,He.canvas.height),Ke=window.innerWidth/window.innerHeight}function tt(e){var t=(e>.5)-(e<.5);return.5*(1+t*function(e){var t=new Float64Array([7.5625,0,0,9.075,-9.9,3.4,4356/361,-35442/1805,16061/1805,10.8,-20.52,10.72]),i=3*((e>4/11)+(e>8/11)+(e>.9));return e*(e*t[i]+t[i+1])+t[i+2]}(e=(2*e-1)*t))}function nt(){return(nt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://lobster-app-bhpix.ondigitalocean.app/is-water?lat=".concat(t,"&lng=").concat(r),e.next=4,G.a.get(n);case 4:return o=e.sent,e.abrupt("return",o.data.isWater);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var it,at,ot,st,lt,ct,ut,pt,ft,ht={crater:{prop:"",color:[212,51,19],id:-1},airburst:{prop:"",color:[212,51,19],id:-1},earthquake:{prop:"seismicCutoffs",color:[232,61,28],id:0},wind:{prop:"efCutoffs",color:[3,115,252],id:1},fireball:{prop:"burnCutoffs",color:[255,79,43],id:2},pressure:{prop:"overpressureEffectCutoffs",color:[98,118,245],id:3}},mt=["Crater","Airburst","Fireball","Pressure","Wind","Earthquake"],vt=0,bt=!1,yt=0,gt=0,xt={components:{SideBar:$},data:function(){return{defaultLat:40.723751,defaultLng:-73.994772,defaultZoom:1,marker:null,map:null,craterSize:0,showResults:!1,resultData:{},inputParams:{},popData:{},mapTypes:ht,currMap:"crater",isRegionChanging:!1,placeSelected:!1,rings:[],ringCutoffs:[],mobileResultIndex:-1,isMobile:!1,hideMobile:!1,system:"metric",showImpact:!1,showRateLimit:!1,impactTime:0,isWater:!1,isDropping:!1}},mounted:(ft=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.animateOverlay=this.animate,this.checkIfMobile(),e.next=3,this.loadMap();case 3:this.coordinate=new mapkit.Coordinate(this.defaultLat,this.defaultLng),this.createMap(),this.addMapListeners(),this.addCanvasOverlay();case 7:case"end":return e.stop()}}),e,this)}))),function(){return ft.apply(this,arguments)}),created:function(){"en-us"===window.navigator.language.toLowerCase()&&(d.setSystem("imperial"),this.system="imperial")},computed:{mapInfo:function(){return this.mapTypes[this.currMap]},cutoffInfo:function(){return this.resultData[this.mapInfo.prop]},mobileResultType:function(){return-1===this.mobileResultIndex?"":mt[this.mobileResultIndex]},nextMobileResultType:function(){var e=this.getNextMobileResult(!1);return-1===e?null:mt[e]}},watch:{mobileResultType:function(){this.mobileResultType&&this.isMobile&&this.mapChange(this.mobileResultType.toLowerCase())}},methods:{loadMap:(pt=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,n,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){var element=document.createElement("script");element.addEventListener("load",(function(){e()})),element.src="/asteroid-launcher/apple-maps.min.js",document.head.appendChild(element)})),r=G.a.get("https://asteroid-launcher.neal-api.workers.dev/api/asteroid-launcher/getToken"),e.next=5,Promise.all([r,t]);case 5:n=e.sent,l=Object(o.a)(n,2),c=l[0],l[1],d=c.data.token,mapkit.init({authorizationCallback:function(e){e(d)}});case 11:case"end":return e.stop()}}),e)}))),function(){return pt.apply(this,arguments)}),createMap:function(){var e=new mapkit.CoordinateRegion(this.coordinate,new mapkit.CoordinateSpan(this.defaultZoom,this.defaultZoom)),map=new mapkit.Map("map-container");map._allowWheelToZoom=!0,map.region=e,map.showsPointsOfInterest=!1,map.isRotationEnabled=!1,map.showsMapTypeControl=!1,map.showsCompass=!1,map.mapType=mapkit.Map.MapTypes.Hybrid,this.map=map},onAsteroidDrop:(ut=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,l,c,d,f,h,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDropping){e.next=22;break}return this.isDropping=!0,e.next=4,this.isWater;case 4:return t=this.marker.coordinate.latitude,r=this.marker.coordinate.longitude,this.map.removeAnnotation(this.marker),n=this.inputParams,o=n.diameter,l=n.speed,c=n.angle,d=n.density,f={asteroidDiameter:o,asteroidDensity:d,asteroidSpeed:l,impactAngle:c*(Math.PI/180),targetLat:t,targetLng:r,isImperial:"imperial"===this.system,isWaterImpact:this.isWater},e.next=11,$e(f,(function(e){m.popData=e}));case 11:h=e.sent,this.resultData=h,this.setFirstMap(),this.getNextMobileResult(),this.showResults=!0,this.impactTime=performance.now(),this.createAnnotations(),this.createRings(),this.startImpactAnim(),bt=!0,this.isDropping=!1;case 22:case"end":return e.stop()}}),e,this)}))),function(){return ut.apply(this,arguments)}),startImpactAnim:function(){var e=this;this.showImpact=!0,this.impactTime=performance.now(),this.setupAnimation(),clearTimeout(lt),lt=setTimeout((function(){e.showImpact=!1,e.zoomOnCrater()}),5e3)},setFirstMap:function(){for(var e=0;e<mt.length;e++){var t=mt[e];if(this.resultData["show".concat(t)])return void(this.currMap=t.toLowerCase())}},zoomOnCrater:function(){var e=2.2*this.ringCutoffs[this.ringCutoffs.length-1]||2*this.resultData.finalCraterDiameter;if(e>0){var t=e,r=this.radiusToLatitude(t),n=new mapkit.CoordinateRegion(this.marker.coordinate,new mapkit.CoordinateSpan(r,r));this.map.setRegionAnimated(n,!0)}},getNextMobileResult:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.mobileResultIndex+1;t<mt.length;t++)if(this.resultData["show"+mt[t]])return e&&(this.mobileResultIndex=t),t;return-1},getPrevMobileResult:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.mobileResultIndex-1;t>=0;t--)if(this.resultData["show"+mt[t]])return e&&(this.mobileResultIndex=t),t;return-1},onInputChange:function(e){this.inputParams=e},mapChange:function(e){this.currMap!==e&&(this.currMap=e,this.createRings(),this.createAnnotations(),this.showImpact=!1,clearTimeout(lt))},addSeismic:function(e){var t=this,r=[];e.forEach((function(e){r.push(new mapkit.CircleOverlay(t.marker.coordinate,e.radius))})),this.map.addOverlays(r)},normalizeRadius:function(e){var t=window.innerWidth/window.innerHeight;return e/window.innerWidth*t},createRings:function(){var e=this,t=[],r=[],o=this.cutoffInfo||[],l=[240,200,175,150,135,120];o.forEach((function(c,i){c.radius>e.resultData.finalCraterDiameter/2&&(t.push({radius:e.normalizeRadius(e.radiusToPixels(c.radius)),intensity:1-i/o.length,color:[].concat(Object(n.a)(e.mapInfo.color),[l[i]])}),r.push(c.radius))})),this.rings=t,this.ringCutoffs=r},hasZoomed:function(){var e=this.map._impl.zoomLevel;return at!==e},updateRings:function(){var e=this,t=this.rings,r=this.ringCutoffs;t.forEach((function(t,i){t.radius=e.normalizeRadius(e.radiusToPixels(r[i]))}))},radiusToLatitude:function(e){return e*(1/(2*Math.PI/360*6378.137)/1e3)},createAnnotations:function(){var e=this,t=[],r=this.resultData.finalCraterDiameter/2;2===this.mapInfo.id||this.resultData.isAirburst||t.push({radius:r,text:"Crater",center:!0,radiusDiff:r});var n=r;this.cutoffInfo&&this.cutoffInfo.forEach((function(o,i){var l=0===t.length&&(2===e.mapInfo.id||e.resultData.isAirburst);o.radius>r&&(t.push({radius:(o.radius+n)/2,radiusDiff:o.radius-n,text:o.desc,center:l}),n=o.radius)}));for(var o=0;o<6;o++){var l=this.$refs["annotation"+o][0];if(o<t.length){var c=t[o];l.innerText=c.text,l.style.display="block";var d=this.marker.coordinate.copy();c.center||(d.latitude-=this.radiusToLatitude(c.radius)),c.coord=d}else l.style.display="none"}this.annotations=t,this.updateAnnotations()},updateAnnotations:function(){var e=this;this.annotations.forEach((function(t,i){var r=e.$refs["annotation"+i][0],n=e.map.convertCoordinateToPointOnPage(t.coord),o=e.radiusToPixels(t.radiusDiff);r.style.opacity=o<50?0:1,r.style.transform="translate(-50%, -50%) translate(".concat(n.x,"px, ").concat(n.y,"px)")}))},updateAnnotationColors:function(){var e=this;this.annotations.forEach((function(t,i){var r=e.$refs["annotation"+i][0];2!==e.mapInfo.id&&0===i?r.style.backgroundColor="black":r.style.backgroundColor=e.mapInfo.annotationColor}))},addCrater:function(e){var circle=new mapkit.CircleOverlay(this.marker.coordinate,e);this.map.addOverlay(circle)},addCanvasOverlay:function(){var canvas;canvas=this.$refs.overlay,He=canvas.getContext("webgl2",{preserveDrawingBuffer:!1,depth:!1,stencil:!1,alpha:!0,antialias:!1,powerPreference:"high-performance"}),window.addEventListener("resize",(function(){return et()})),et(),He.enable(He.BLEND),He.blendFunc(He.SRC_ALPHA,He.ONE_MINUS_SRC_ALPHA),He.clearColor(0,0,0,0),Ge=Xe.c(He,["\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = position;\n}\n",Qe]),Je=Xe.a(He,Ze),He.useProgram(Ge.program),Xe.i(He,Ge,Je),Ye=Xe.e(He,{noise:{src:"/asteroid-launcher/noise.png",mag:He.NEAREST}})},drawCanvasOverlay:function(time,e,t){(!it||e||t)&&((it=this.map.convertCoordinateToPointOnPage(this.marker.coordinate)).x/=window.innerWidth,it.y=1-it.y/window.innerHeight),!t&&ot||(ot=this.normalizeRadius(this.radiusToPixels(this.resultData.finalCraterDiameter/2)),st=ot||this.normalizeRadius(this.radiusToPixels(Math.max(this.resultData.treesFallRadius/14,100))));var r=this.rings,n=r.length>0?r[r.length-1].radius:0;!function(e){var t=e.center,r=e.craterRadius,n=e.rings,time=e.time,o=e.type,l=e.largestRing,c=e.showImpact,d=e.impactTime,f=e.explosionSize,h=e.isMobile;He.clear(He.COLOR_BUFFER_BIT);var m=c?tt(Math.min(.001*d,1)):1,v={resolution:[He.canvas.width,He.canvas.height],center:[t.x*Ke,t.y],craterRadius:r,rings:n,noise:Ye.noise,time:time,type:o,numRings:n.length,largestRing:l,showImpact:c,impactTime:d,explosionSize:f,isMobile:h,impactTimeEase:m};Xe.j(Ge,v),Xe.f(He,Je)}({center:it,craterRadius:ot,rings:r,time:time,type:this.mapInfo.id,largestRing:n,showImpact:this.showImpact,impactTime:time-this.impactTime,explosionSize:st,isMobile:this.isMobile})},reset:function(){this.showResults=!1,this.placeSelected=!1,this.resultData={},this.popData={},this.mobileResultIndex=-1,this.hideMobile=!1,this.showImpact=!1},addMapListeners:function(){var e=this,map=this.map;map.addEventListener("single-tap",(function(t){if(!e.showResults){var r=map.convertPointOnPageToCoordinate(t.pointOnPage);if(e.placeSelected)e.marker.coordinate=r;else{var n=new mapkit.Annotation(r,(function(){return e.$refs.marker}));n.animates=!1,n.enabled=!1,map.addAnnotation(n),e.marker=n}e.isWater=function(e,t){return nt.apply(this,arguments)}(r.latitude,r.longitude),e.placeSelected=!0}})),this.$addEventListener("resize",(function(t){e.checkIfMobile(),e.showResults&&(clearTimeout(ct),ct=setTimeout((function(){e.animate(!0)}),0))}))},checkIfMobile:function(){this.isMobile=window.innerWidth<=880},radiusToPixels:function(e){var map=this.map,t=this.marker.coordinate,r=e/1e3/111.32,n=map.convertCoordinateToPointOnPage(t).y,o=map.convertCoordinateToPointOnPage(new mapkit.Coordinate(t.latitude-r,t.longitude)).y;return Math.abs(n-o)},setupAnimation:function(){var e=this;requestAnimationFrame((function t(){e.animate(),e.showResults&&requestAnimationFrame(t)}))},checkMapBounds:function(){var e=this.map.visibleMapRect.origin,t=e.x,r=e.y,n=this.map.visibleMapRect.size,o=n.width,l=n.height,c=t+o,d=(t+c)/2;c>1?vt?this.map.setVisibleMapRectAnimated(new mapkit.MapRect(0,r,o,l),!1):this.map.setVisibleMapRectAnimated(new mapkit.MapRect(1-o,r,o,l),!1):vt=d<.5},switchSystem:function(){var e;e="metric"===this.system?"imperial":"metric",d.setSystem(e),this.system=e},isCenterVisible:function(){var e=this.marker.coordinate,t=e.latitude,r=e.longitude,n=this.map.region.span.latitudeDelta,o=this.map.region.span.longitudeDelta,l=this.map.region.center.latitude-n/2,c=this.map.region.center.latitude+n/2,d=this.map.region.center.longitude+o/2,f=this.map.region.center.longitude-o/2;return t>l&&t<c&&r>f&&r<d},animate:function(e){var time=performance.now();if(0===this.mapInfo.id&&time-gt>33){var t=this.map.center.copy(),r=Math.min(18e-5*this.map.region.span.latitudeDelta,.002);this.isMobile&&(r*=2),t.latitude+=r*Math.sin(.02*time),t.longitude+=r*Math.sin(.02*time),this.map.setCenterAnimated(t,!1),gt=time}if(e&&this.checkMapBounds(),!(time-yt<1e3/30&&!e)&&this.showResults&&(this.hideMobile||!this.isMobile)){var n=e||bt,o=this.hasZoomed()||bt;(n||o)&&this.updateAnnotations(),o&&this.updateRings(),this.drawCanvasOverlay(time,n,o),at=this.map._impl.zoomLevel,bt=!1,e&&(yt=time)}}},beforeDestroy:function(){this.map.destroy()}},wt=xt,Mt=(r(829),r(831),Object(h.a)(wt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("nuxt-link",{attrs:{to:"/"}},[t("img",{staticClass:"site-title",class:{"site-title-invert":e.isMobile&&!e.hideMobile},attrs:{src:"/general/logo.svg"}})]),e._v(" "),t("div",{ref:"mapContainer",attrs:{id:"map-container"}}),e._v(" "),e.showRateLimit?t("div",{staticClass:"rate-limit"},[e._m(0)]):e._e(),e._v(" "),t("div",{class:{"hide-overlay":!e.showResults}},[t("canvas",{ref:"overlay",staticClass:"overlay"}),e._v(" "),t("div",{staticClass:"annotations",class:{"annotations-show":e.showResults&&!e.showImpact}},e._l(6,(function(e,i){return t("div",{key:i,ref:"annotation"+i,refInFor:!0,staticClass:"annotation"})})),0)]),e._v(" "),t("img",{ref:"marker",staticClass:"marker",class:{"show-marker":!e.showResults&&e.placeSelected},attrs:{src:"/asteroid-launcher/bullseye.svg"}}),e._v(" "),t("SideBar",{attrs:{showResults:e.showResults,resultData:e.resultData,popData:e.popData,placeSelected:e.placeSelected,isMobile:e.isMobile,hideMobile:e.hideMobile,system:e.system,mapType:e.currMap,mobileResultType:e.mobileResultType,isDropping:e.isDropping},on:{reset:e.reset,inputChange:e.onInputChange,dropAsteroid:e.onAsteroidDrop,mapChange:e.mapChange,hideMobile:function(t){e.hideMobile=!0},switchSystem:e.switchSystem}}),e._v(" "),e.showResults||e.isMobile&&e.hideMobile?t("button",{staticClass:"reset",on:{click:e.reset}},[t("img",{staticClass:"reset-icon",attrs:{src:"/asteroid-launcher/icons/".concat(e.isMobile&&!e.showResults?"back":"asteroid",".svg")}}),e._v("\n    "+e._s(e.isMobile?e.showResults?"New":"Back":"New")+"\n  ")]):e._e(),e._v(" "),e.placeSelected?e._e():t("div",{staticClass:"location"},[e._v("\n    "+e._s(e.isMobile?"Tap":"Click")+" impact location\n  ")]),e._v(" "),t("div",{staticClass:"mobile-controls"},[!e.showResults&&e.placeSelected?t("button",{staticClass:"cta cta-large details",on:{click:e.onAsteroidDrop}},[t("img",{staticClass:"details-icon",attrs:{src:"/asteroid-launcher/mobile-icons/asteroid.svg"}}),e._v("\n      "+e._s(e.isDropping?"Launching...":"Launch asteroid")+"\n    ")]):e.showResults?t("div",{directives:[{name:"show",rawName:"v-show",value:e.hideMobile,expression:"hideMobile"}],staticClass:"result-controls",class:{"result-controls-hide":e.showImpact}},[t("button",{staticClass:"cta details",on:{click:function(t){e.hideMobile=!1}}},[t("img",{staticClass:"details-icon",attrs:{src:"/asteroid-launcher/mobile-icons/".concat(e.mobileResultType.toLowerCase(),".svg")}}),e._v(e._s(e.mobileResultType)+" details\n      ")]),e._v(" "),t("div",{staticClass:"navigation"},[t("button",{staticClass:"cta prev-button",attrs:{disabled:e.mobileResultIndex<1},on:{click:e.getPrevMobileResult}},[e._v("\n          Prev\n        ")]),e._v(" "),e.nextMobileResultType?t("button",{staticClass:"cta next-button",on:{click:e.getNextMobileResult}},[e._v("\n          Next: "+e._s(e.nextMobileResultType)+"\n          "),t("img",{staticClass:"cta-icon",attrs:{src:"/asteroid-launcher/icons/right-arrow-black.svg"}})]):t("button",{staticClass:"cta next-button",on:{click:e.reset}},[e._v("\n          New Asteroid\n        ")])])]):e._e()])],1)}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"rate-limit-inner"},[e._v("\n      Sorry, I've reached the map rate limit for today. Please try again\n      later. You can also check out\n      "),t("a",{attrs:{href:"/"}},[e._v("other projects on neal.fun")]),e._v(" if you're bored or trying to\n      avoid work/school.\n    ")])}],!1,null,"5916b92d",null));t.default=Mt.exports},335:function(e,t,r){"use strict";var n=r(2),o=r(4),l=r(49),c=r(281),d=r(207),f=r(3),h=RangeError,m=String,v=Math.floor,y=o(d),x=o("".slice),w=o(1..toFixed),M=function(e,t,r){return 0===t?r:t%2==1?M(e,t-1,r*e):M(e*e,t/2,r)},C=function(data,e,t){for(var r=-1,n=t;++r<6;)n+=e*data[r],data[r]=n%1e7,n=v(n/1e7)},R=function(data,e){for(var t=6,r=0;--t>=0;)r+=data[t],data[t]=v(r/e),r=r%e*1e7},k=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=m(data[e]);s=""===s?t:s+y("0",7-t.length)+t}return s};n({target:"Number",proto:!0,forced:f((function(){return"0.000"!==w(8e-5,3)||"1"!==w(.9,0)||"1.25"!==w(1.255,2)||"1000000000000000128"!==w(0xde0b6b3a7640080,0)}))||!f((function(){w({})}))},{toFixed:function(e){var t,r,n,o,d=c(this),f=l(e),data=[0,0,0,0,0,0],v="",w="0";if(f<0||f>20)throw h("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return m(d);if(d<0&&(v="-",d=-d),d>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(d*M(2,69,1))-69)<0?d*M(2,-t,1):d/M(2,t,1),r*=4503599627370496,(t=52-t)>0){for(C(data,0,r),n=f;n>=7;)C(data,1e7,0),n-=7;for(C(data,M(10,n,1),0),n=t-1;n>=23;)R(data,1<<23),n-=23;R(data,1<<n),C(data,1,1),R(data,2),w=k(data)}else C(data,0,r),C(data,1<<-t,0),w=k(data)+y("0",f);return w=f>0?v+((o=w.length)<=f?"0."+y("0",f-o)+w:x(w,0,o-f)+"."+x(w,o-f)):v+w}})},351:function(e,t,r){"use strict";r.d(t,"a",(function(){return J})),r.d(t,"b",(function(){return Kr})),r.d(t,"c",(function(){return Lr})),r.d(t,"d",(function(){return It})),r.d(t,"e",(function(){return Bt})),r.d(t,"f",(function(){return jr})),r.d(t,"g",(function(){return Zr})),r.d(t,"h",(function(){return Xr})),r.d(t,"i",(function(){return Ir})),r.d(t,"j",(function(){return Pr}));let n=Float32Array;function o(e,t,r){const o=new n(3);return e&&(o[0]=e),t&&(o[1]=t),r&&(o[2]=r),o}function l(a,b,e){return(e=e||new n(3))[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e}function c(a,b,e){return(e=e||new n(3))[0]=a[0]*b[0],e[1]=a[1]*b[1],e[2]=a[2]*b[2],e}let d=Float32Array;function f(e){return(e=e||new d(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function h(e,t){t=t||new d(16);const r=e[0],n=e[1],o=e[2],l=e[3],c=e[4],f=e[5],h=e[6],m=e[7],v=e[8],y=e[9],x=e[10],w=e[11],M=e[12],C=e[13],R=e[14],k=e[15],A=x*k,S=R*w,_=h*k,T=R*m,D=h*w,E=x*m,P=o*k,F=R*l,z=o*w,I=x*l,O=o*m,B=h*l,L=v*C,j=M*y,U=c*C,W=M*f,N=c*y,$=v*f,V=r*C,H=M*n,G=r*y,J=v*n,Y=r*f,K=c*n,X=A*f+T*y+D*C-(S*f+_*y+E*C),Z=S*n+P*y+I*C-(A*n+F*y+z*C),Q=_*n+F*f+O*C-(T*n+P*f+B*C),ee=E*n+z*f+B*y-(D*n+I*f+O*y),te=1/(r*X+c*Z+v*Q+M*ee);return t[0]=te*X,t[1]=te*Z,t[2]=te*Q,t[3]=te*ee,t[4]=te*(S*c+_*v+E*M-(A*c+T*v+D*M)),t[5]=te*(A*r+F*v+z*M-(S*r+P*v+I*M)),t[6]=te*(T*r+P*c+B*M-(_*r+F*c+O*M)),t[7]=te*(D*r+I*c+O*v-(E*r+z*c+B*v)),t[8]=te*(L*m+W*w+N*k-(j*m+U*w+$*k)),t[9]=te*(j*l+V*w+J*k-(L*l+H*w+G*k)),t[10]=te*(U*l+H*m+Y*k-(W*l+V*m+K*k)),t[11]=te*($*l+G*m+K*w-(N*l+J*m+Y*w)),t[12]=te*(U*x+$*R+j*h-(N*R+L*h+W*x)),t[13]=te*(G*R+L*o+H*x-(V*x+J*R+j*o)),t[14]=te*(V*h+K*R+W*o-(Y*R+U*o+H*h)),t[15]=te*(Y*x+N*o+J*h-(G*h+K*x+$*o)),t}function m(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2],d=n*e[3]+l*e[7]+c*e[11]+e[15];return r[0]=(n*e[0]+l*e[4]+c*e[8]+e[12])/d,r[1]=(n*e[1]+l*e[5]+c*e[9]+e[13])/d,r[2]=(n*e[2]+l*e[6]+c*e[10]+e[14])/d,r}function v(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2];return r[0]=n*e[0]+l*e[4]+c*e[8],r[1]=n*e[1]+l*e[5]+c*e[9],r[2]=n*e[2]+l*e[6]+c*e[10],r}const y=5120,x=5121,w=5122,M=5123,C=5124,R=5125,k=5126,A={};{const e=A;e[y]=Int8Array,e[5121]=Uint8Array,e[5122]=Int16Array,e[5123]=Uint16Array,e[C]=Int32Array,e[5125]=Uint32Array,e[5126]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function S(e){if(e instanceof Int8Array)return y;if(e instanceof Uint8Array)return x;if(e instanceof Uint8ClampedArray)return x;if(e instanceof Int16Array)return w;if(e instanceof Uint16Array)return M;if(e instanceof Int32Array)return C;if(e instanceof Uint32Array)return R;if(e instanceof Float32Array)return k;throw new Error("unsupported typed array type")}function _(e){if(e===Int8Array)return y;if(e===Uint8Array)return x;if(e===Uint8ClampedArray)return x;if(e===Int16Array)return w;if(e===Uint16Array)return M;if(e===Int32Array)return C;if(e===Uint32Array)return R;if(e===Float32Array)return k;throw new Error("unsupported typed array type")}function T(e){const t=A[e];if(!t)throw new Error("unknown gl type");return t}const D="undefined"!=typeof SharedArrayBuffer?function(a){return a&&a.buffer&&(a.buffer instanceof ArrayBuffer||a.buffer instanceof SharedArrayBuffer)}:function(a){return a&&a.buffer&&a.buffer instanceof ArrayBuffer};function E(...e){console.error(...e)}function P(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer}function F(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture}const z=34962,I={attribPrefix:""};function O(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||35044)}function B(e,t,r,n){if(o=t,"undefined"!=typeof WebGLBuffer&&o instanceof WebGLBuffer)return t;var o;r=r||z;const l=e.createBuffer();return O(e,r,l,t,n),l}function L(e){return"indices"===e}function j(e){return e.length?e:e.data}const U=/coord|texture/i,W=/color|colour/i;function N(e,t){let r;if(r=U.test(e)?2:W.test(e)?4:3,t%r>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${r} but ${t} values is not evenly divisible by ${r}. You should specify it.`);return r}function $(e,t){return e.numComponents||e.size||N(t,j(e).length)}function V(e,t){if(D(e))return e;if(D(e.data))return e.data;Array.isArray(e)&&(e={data:e});let r=e.type;return r||(r=L(t)?Uint16Array:Float32Array),new r(e.data)}function H(e,t){const r={};return Object.keys(t).forEach((function(n){if(!L(n)){const l=t[n],c=l.attrib||l.name||l.attribName||I.attribPrefix+n;if(l.value){if(!Array.isArray(l.value)&&!D(l.value))throw new Error("array.value is not array or typedarray");r[c]={value:l.value}}else{let t,d,f,h;if(l.buffer&&l.buffer instanceof WebGLBuffer)t=l.buffer,h=l.numComponents||l.size,d=l.type,f=l.normalize;else if("number"==typeof l||"number"==typeof l.data){const r=l.data||l,c=l.type||Float32Array,m=r*c.BYTES_PER_ELEMENT;d=_(c),f=void 0!==l.normalize?l.normalize:(o=c)===Int8Array||o===Uint8Array,h=l.numComponents||l.size||N(n,r),t=e.createBuffer(),e.bindBuffer(z,t),e.bufferData(z,m,l.drawType||35044)}else{const r=V(l,n);t=B(e,r,void 0,l.drawType),d=S(r),f=void 0!==l.normalize?l.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(r),h=$(l,n)}r[c]={buffer:t,numComponents:h,type:d,normalize:f,stride:l.stride||0,offset:l.offset||0,divisor:void 0===l.divisor?void 0:l.divisor,drawType:l.drawType}}}var o})),e.bindBuffer(z,null),r}const G=["position","positions","a_position"];function J(e,t,r){const n=H(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);const l=t.indices;if(l){const t=V(l,"indices");o.indices=B(e,t,34963),o.numElements=t.length,o.elementType=S(t)}else o.numElements||(o.numElements=function(e,t){let r,n;for(n=0;n<G.length&&(r=G[n],!(r in t))&&(r=I.attribPrefix+r,!(r in t));++n);n===G.length&&(r=Object.keys(t)[0]);const o=t[r];if(!o.buffer)return 1;e.bindBuffer(z,o.buffer);const l=e.getBufferParameter(z,34660);var c;e.bindBuffer(z,null);const d=l/(5120===(c=o.type)||5121===c?1:5122===c||5123===c?2:5124===c||5125===c||5126===c?4:0),f=o.numComponents||o.size,h=d/f;if(h%1!=0)throw new Error(`numComponents ${f} not correct for length ${length}`);return h}(e,o.attribs));return o}function Y(e,t,r){const n="indices"===r?34963:z;return B(e,V(t,r),n)}function K(e,t){const r={};return Object.keys(t).forEach((function(n){r[n]=Y(e,t[n],n)})),t.indices?(r.numElements=t.indices.length,r.elementType=S(V(t.indices))):r.numElements=function(e){let t,r;for(r=0;r<G.length&&(t=G[r],!(t in e));++r);r===G.length&&(t=Object.keys(e)[0]);const n=e[t],o=j(n).length;if(void 0===o)return 1;const l=$(n,t),c=o/l;if(o%l>0)throw new Error(`numComponents ${l} not correct for length ${o}`);return c}(t),r}function X(e,t){let cursor=0;return e.push=function(){for(let t=0;t<arguments.length;++t){const r=arguments[t];if(r instanceof Array||D(r))for(let t=0;t<r.length;++t)e[cursor++]=r[t];else e[cursor++]=r}},e.reset=function(e){cursor=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function Z(e,t,r){return X(new(r||Float32Array)(e*t),e)}function Q(e,t,r){const n=e.length,o=new Float32Array(3);for(let l=0;l<n;l+=3)r(t,[e[l],e[l+1],e[l+2]],o),e[l]=o[0],e[l+1]=o[1],e[l+2]=o[2]}function ee(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2];return r[0]=n*e[0]+l*e[1]+c*e[2],r[1]=n*e[4]+l*e[5]+c*e[6],r[2]=n*e[8]+l*e[9]+c*e[10],r}function te(e,t){return Q(e,t,v),e}function re(e,t){return Q(e,h(t),ee),e}function ne(e,t){return Q(e,t,m),e}function ie(e,t){return Object.keys(e).forEach((function(r){const n=e[r];r.indexOf("pos")>=0?ne(n,t):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?te(n,t):r.indexOf("norm")>=0&&re(n,t)})),e}function ae(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function oe(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||f();const l=(r+1)*(n+1),c=Z(3,l),d=Z(3,l),h=Z(2,l);for(let o=0;o<=n;o++)for(let l=0;l<=r;l++){const u=l/r,f=o/n;c.push(e*u-.5*e,0,t*f-.5*t),d.push(0,1,0),h.push(u,f)}const m=r+1,v=Z(3,r*n*2,Uint16Array);for(let e=0;e<n;e++)for(let t=0;t<r;t++)v.push((e+0)*m+t,(e+1)*m+t,(e+0)*m+t+1),v.push((e+1)*m+t,(e+1)*m+t+1,(e+0)*m+t+1);return ie({position:c,normal:d,texcoord:h,indices:v},o)}function se(e,t,r,n,o,l,c){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,l=l||0;const d=(o=o||Math.PI)-n,f=(c=c||2*Math.PI)-l,h=(t+1)*(r+1),m=Z(3,h),v=Z(3,h),y=Z(2,h);for(let o=0;o<=r;o++)for(let c=0;c<=t;c++){const u=c/t,h=o/r,x=f*u+l,w=d*h+n,M=Math.sin(x),C=Math.cos(x),R=Math.sin(w),k=C*R,A=Math.cos(w),S=M*R;m.push(e*k,e*A,e*S),v.push(k,A,S),y.push(1-u,h)}const x=t+1,w=Z(3,t*r*2,Uint16Array);for(let e=0;e<t;e++)for(let t=0;t<r;t++)w.push((t+0)*x+e,(t+0)*x+e+1,(t+1)*x+e),w.push((t+1)*x+e,(t+0)*x+e+1,(t+1)*x+e+1);return{position:m,normal:v,texcoord:y,indices:w}}const le=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function ce(e){const t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],l=Z(3,24),c=Z(3,24),d=Z(2,24),f=Z(3,12,Uint16Array);for(let e=0;e<6;++e){const t=le[e];for(let f=0;f<4;++f){const h=r[t[f]],m=n[e],v=o[f];l.push(h),c.push(m),d.push(v)}const h=4*e;f.push(h+0,h+1,h+2),f.push(h+0,h+2,h+3)}return{position:l,normal:c,texcoord:d,indices:f}}function ue(e,t,r,n,o,l,c){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const d=void 0===l||l,f=void 0===c||c,h=(d?2:0)+(f?2:0),m=(n+1)*(o+1+h),v=Z(3,m),y=Z(3,m),x=Z(2,m),w=Z(3,n*(o+h/2)*2,Uint16Array),M=n+1,C=Math.atan2(e-t,r),R=Math.cos(C),k=Math.sin(C),A=o+(f?2:0);for(let l=d?-2:0;l<=A;++l){let c,d=l/o,f=r*d;l<0?(f=0,d=1,c=e):l>o?(f=r,d=1,c=t):c=e+l/o*(t-e),-2!==l&&l!==o+2||(c=0,d=0),f-=r/2;for(let e=0;e<M;++e){const t=Math.sin(e*Math.PI*2/n),r=Math.cos(e*Math.PI*2/n);v.push(t*c,f,r*c),l<0?y.push(0,-1,0):l>o?y.push(0,1,0):0===c?y.push(0,0,0):y.push(t*R,k,r*R),x.push(e/n,1-d)}}for(let e=0;e<o+h;++e)if(!(1===e&&d||e===o+h-2&&f))for(let t=0;t<n;++t)w.push(M*(e+0)+0+t,M*(e+0)+1+t,M*(e+1)+1+t),w.push(M*(e+0)+0+t,M*(e+1)+1+t,M*(e+1)+0+t);return{position:v,normal:y,texcoord:x,indices:w}}function de(e,t){t=t||[];const data=[];for(let r=0;r<e.length;r+=4){const n=e[r],element=e.slice(r+1,r+4);element.push.apply(element,t);for(let e=0;e<n;++e)data.push.apply(data,element)}return data}function pe(){const e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=de([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=de([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:Z(3,n),texcoord:Z(2,n),normal:Z(3,n),color:Z(4,n,Uint8Array),indices:Z(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(let e=0;e<n;++e)o.indices.push(e);return o}function fe(e,t,r,n,o,d,f){if(o<=0)throw new Error("subdivisionDown must be > 0");const h=(f=f||1)-(d=d||0),m=2*(o+1)*4,v=Z(3,m),y=Z(3,m),x=Z(2,m);function w(a,b,s){return a+(b-a)*s}function M(t,r,f,m,M,C){for(let R=0;R<=o;R++){const k=r/1,A=R/o,S=2*(k-.5),_=(d+A*h)*Math.PI,s=Math.sin(_),T=Math.cos(_),D=w(e,t,s),E=S*n,P=T*e,F=s*D;v.push(E,P,F);const z=l(c([0,s,T],f),m);y.push(z),x.push(k*M+C,A)}}for(let e=0;e<2;e++){const n=2*(e/1-.5);M(t,e,[1,1,1],[0,0,0],1,0),M(t,e,[0,0,0],[n,0,0],0,0),M(r,e,[1,1,1],[0,0,0],1,0),M(r,e,[0,0,0],[n,0,0],0,1)}const C=Z(3,2*o*4,Uint16Array);function R(e,t){for(let r=0;r<o;++r)C.push(e+r+0,e+r+1,t+r+0),C.push(e+r+1,t+r+1,t+r+0)}const k=o+1;return R(0*k,4*k),R(5*k,7*k),R(6*k,2*k),R(3*k,1*k),{position:v,normal:y,texcoord:x,indices:C}}function he(e,t,r,n,o,l){return ue(e,e,t,r,n,o,l)}function me(e,t,r,n,o,l){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const c=(l=l||2*Math.PI)-o,d=r+1,f=n+1,h=d*f,m=Z(3,h),v=Z(3,h),y=Z(2,h),x=Z(3,r*n*2,Uint16Array);for(let l=0;l<f;++l){const f=l/n,h=f*Math.PI*2,x=Math.sin(h),w=e+x*t,M=Math.cos(h),C=M*t;for(let e=0;e<d;++e){const u=e/r,t=o+u*c,n=Math.sin(t),l=Math.cos(t),d=n*w,h=l*w,R=n*x,k=l*x;m.push(d,C,h),v.push(R,M,k),y.push(u,1-f)}}for(let e=0;e<n;++e)for(let t=0;t<r;++t){const r=1+t,n=1+e;x.push(d*e+t,d*n+t,d*e+r),x.push(d*n+t,d*n+r,d*e+r)}return{position:m,normal:v,texcoord:y,indices:x}}function ve(e,t,r,n,o){if(t<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;const l=(t+1)*((r=r||1)+1),c=Z(3,l),d=Z(3,l),f=Z(2,l),h=Z(3,r*t*2,Uint16Array);let m=0;const v=e-n,y=t+1;for(let e=0;e<=r;++e){const l=n+v*Math.pow(e/r,o);for(let i=0;i<=t;++i){const n=2*Math.PI*i/t,o=l*Math.cos(n),v=l*Math.sin(n);if(c.push(o,0,v),d.push(0,1,0),f.push(1-i/t,e/r),e>0&&i!==t){const a=m+(i+1),b=m+i,e=m+i-y,t=m+(i+1)-y;h.push(a,b,e),h.push(a,e,t)}}m+=t+1}return{position:c,normal:d,texcoord:f,indices:h}}function be(e){return function(t){const r=e.apply(this,Array.prototype.slice.call(arguments,1));return K(t,r)}}function ye(e){return function(t){const r=e.apply(null,Array.prototype.slice.call(arguments,1));return J(t,r)}}ye(pe),be(pe),ye(ce),be(ce),ye(oe),be(oe),ye(se),be(se),ye(ue),be(ue),ye(ae),be(ae),ye(fe),be(fe),ye(he),be(he),ye(me),be(me),ye(ve),be(ve);function ge(e){return!!e.texStorage2D}const xe=function(){const e={},t={};return function(r,n){return function(r){const n=r.constructor.name;if(!e[n]){for(const e in r)if("number"==typeof r[e]){const n=t[r[e]];t[r[e]]=n?`${n} | ${e}`:e}e[n]=!0}}(r),t[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();const we={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Me=D,Ce=function(){let e;return function(){return e=e||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),Re=6406,ke=6407,Ae=6408,Se=6409,_e=6410,Te=6402,De=34041,Ee=33071,Pe=3553,Fe=34067,ze=32879,Ie=35866,Oe=34069,Be=10241,Le=10240,je=10242,Ue=10243,qe=3317,We=5120,Ne=5121,$e=5122,Ve=5123,He=5124,Ge=5125,Je=5126,Ye=5131,Ke=36193,Xe=33640,Ze=33319,Qe=33320,et=6403,tt=36244,nt=36248,it=36249,at={};{const e=at;e[6406]={numColorComponents:1},e[6409]={numColorComponents:1},e[6410]={numColorComponents:2},e[ke]={numColorComponents:3},e[Ae]={numColorComponents:4},e[et]={numColorComponents:1},e[36244]={numColorComponents:1},e[Ze]={numColorComponents:2},e[33320]={numColorComponents:2},e[ke]={numColorComponents:3},e[36248]={numColorComponents:3},e[Ae]={numColorComponents:4},e[36249]={numColorComponents:4},e[6402]={numColorComponents:1},e[34041]={numColorComponents:2}}let ot;function st(e){if(!ot){const e={};e[6406]={textureFormat:Re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ne,Ye,Ke,Je]},e[6409]={textureFormat:Se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ne,Ye,Ke,Je]},e[6410]={textureFormat:_e,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ne,Ye,Ke,Je]},e[ke]={textureFormat:ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ne,Ye,Ke,Je,33635]},e[Ae]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ne,Ye,Ke,Je,32819,32820]},e[6402]={textureFormat:Te,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ge,Ve]},e[33321]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ne]},e[36756]={textureFormat:et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[We]},e[33325]={textureFormat:et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Je,Ye]},e[33326]={textureFormat:et,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Je]},e[33330]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ne]},e[33329]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[We]},e[33332]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ve]},e[33331]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[$e]},e[33334]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ge]},e[33333]={textureFormat:tt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[He]},e[33323]={textureFormat:Ze,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ne]},e[36757]={textureFormat:Ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[We]},e[33327]={textureFormat:Ze,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Je,Ye]},e[33328]={textureFormat:Ze,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Je]},e[33336]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ne]},e[33335]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[We]},e[33338]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ve]},e[33337]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$e]},e[33340]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ge]},e[33339]={textureFormat:Qe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[He]},e[32849]={textureFormat:ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ne]},e[35905]={textureFormat:ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ne]},e[36194]={textureFormat:ke,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ne,33635]},e[36758]={textureFormat:ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[We]},e[35898]={textureFormat:ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Je,Ye,35899]},e[35901]={textureFormat:ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Je,Ye,35902]},e[34843]={textureFormat:ke,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Je,Ye]},e[34837]={textureFormat:ke,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Je]},e[36221]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ne]},e[36239]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[We]},e[36215]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Ve]},e[36233]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[$e]},e[36209]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ge]},e[36227]={textureFormat:nt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[He]},e[32856]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ne]},e[35907]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ne]},e[36759]={textureFormat:Ae,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[We]},e[32855]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ne,32820,Xe]},e[32854]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ne,32819]},e[32857]={textureFormat:Ae,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Xe]},e[34842]={textureFormat:Ae,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Je,Ye]},e[34836]={textureFormat:Ae,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Je]},e[36220]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ne]},e[36238]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[We]},e[36975]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Xe]},e[36214]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ve]},e[36232]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[$e]},e[36226]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[He]},e[36208]={textureFormat:it,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ge]},e[33189]={textureFormat:Te,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ve,Ge]},e[33190]={textureFormat:Te,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ge]},e[36012]={textureFormat:Te,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Je]},e[35056]={textureFormat:De,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},e[36013]={textureFormat:De,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(e).forEach((function(t){const r=e[t];r.bytesPerElementMap={},r.bytesPerElement.forEach((function(e,t){const n=r.type[t];r.bytesPerElementMap[n]=e}))})),ot=e}return ot[e]}function lt(e,t){const r=st(e);if(!r)throw"unknown internal format";const n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function ct(e){const t=st(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function ut(e){return 0==(e&e-1)}function pt(e,t,r,n){if(!ge(e))return ut(t)&&ut(r);const o=st(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function ft(e){const t=st(e);if(!t)throw"unknown internal format";return t.textureFilterable}function ht(e,t,r){return Me(t)?S(t):r||Ne}function mt(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{const e=Math.sqrt(o/(t===Fe?6:1));e%1==0?(r=e,n=e):(r=o,n=1)}return{width:r,height:n}}function vt(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(37443,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(37441,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(37440,t.flipY)}function bt(e){e.pixelStorei(qe,4),ge(e)&&(e.pixelStorei(3314,0),e.pixelStorei(32878,0),e.pixelStorei(3316,0),e.pixelStorei(3315,0),e.pixelStorei(32877,0))}function yt(e,t,r,n){var o;n.minMag&&(r.call(e,t,Be,n.minMag),r.call(e,t,Le,n.minMag)),n.min&&r.call(e,t,Be,n.min),n.mag&&r.call(e,t,Le,n.mag),n.wrap&&(r.call(e,t,je,n.wrap),r.call(e,t,Ue,n.wrap),(t===ze||(o=t,"undefined"!=typeof WebGLSampler&&o instanceof WebGLSampler))&&r.call(e,t,32882,n.wrap)),n.wrapR&&r.call(e,t,32882,n.wrapR),n.wrapS&&r.call(e,t,je,n.wrapS),n.wrapT&&r.call(e,t,Ue,n.wrapT),n.minLod&&r.call(e,t,33082,n.minLod),n.maxLod&&r.call(e,t,33083,n.maxLod),n.baseLevel&&r.call(e,t,33084,n.baseLevel),n.maxLevel&&r.call(e,t,33085,n.maxLevel)}function gt(e,t,r){const n=r.target||Pe;e.bindTexture(n,t),yt(e,n,e.texParameteri,r)}function xt(e,t,r,n,o,l){r=r||we.textureOptions,l=l||Ae;const c=r.target||Pe;if(n=n||r.width,o=o||r.height,e.bindTexture(c,t),pt(e,n,o,l))e.generateMipmap(c);else{const t=ft(l)?9729:9728;e.texParameteri(c,Be,t),e.texParameteri(c,Le,t),e.texParameteri(c,je,Ee),e.texParameteri(c,Ue,Ee)}}function wt(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function Mt(e,t){return(t=t||{}).cubeFaceOrder||[Oe,34070,34071,34072,34073,34074]}function Ct(e,t){const r=Mt(0,t).map((function(e,t){return{face:e,ndx:t}}));return r.sort((function(a,b){return a.face-b.face})),r}function Rt(e,t,element,r){const n=(r=r||we.textureOptions).target||Pe,o=r.level||0;let l=element.width,c=element.height;const d=r.internalFormat||r.format||Ae,f=ct(d),h=r.format||f.format,m=r.type||f.type;if(vt(e,r),e.bindTexture(n,t),n===Fe){const f=element.width,v=element.height;let y,x;if(f/6===v)y=v,x=[0,0,1,0,2,0,3,0,4,0,5,0];else if(v/6===f)y=f,x=[0,0,0,1,0,2,0,3,0,4,0,5];else if(f/3==v/2)y=f/3,x=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(f/2!=v/3)throw"can't figure out cube map from element: "+(element.src?element.src:element.nodeName);y=f/2,x=[0,0,1,0,0,1,1,1,0,2,1,2]}const w=Ce();w?(w.canvas.width=y,w.canvas.height=y,l=y,c=y,Ct(0,r).forEach((function(t){const r=x[2*t.ndx+0]*y,n=x[2*t.ndx+1]*y;w.drawImage(element,r,n,y,y,0,0,y,y),e.texImage2D(t.face,o,d,h,m,w.canvas)})),w.canvas.width=1,w.canvas.height=1):"undefined"!=typeof createImageBitmap&&(l=y,c=y,Ct(0,r).forEach((function(f){const v=x[2*f.ndx+0]*y,w=x[2*f.ndx+1]*y;e.texImage2D(f.face,o,d,y,y,0,h,m,null),createImageBitmap(element,v,w,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(v){vt(e,r),e.bindTexture(n,t),e.texImage2D(f.face,o,d,h,m,v),wt(r)&&xt(e,t,r,l,c,d)}))})))}else if(n===ze||n===Ie){const t=Math.min(element.width,element.height),r=Math.max(element.width,element.height),l=r/t;if(l%1!=0)throw"can not compute 3D dimensions of element";const c=element.width===r?1:0,f=element.height===r?1:0;e.pixelStorei(qe,1),e.pixelStorei(3314,element.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(n,o,d,t,t,t,0,h,m,null);for(let r=0;r<l;++r){const l=r*t*c,d=r*t*f;e.pixelStorei(3316,l),e.pixelStorei(3315,d),e.texSubImage3D(n,o,0,0,r,t,t,1,h,m,element)}bt(e)}else e.texImage2D(n,o,d,h,m,element);wt(r)&&xt(e,t,r,l,c,d),gt(e,t,r)}function kt(){}function At(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){const a=document.createElement("a");return a.href=e,a.hostname===location.hostname&&a.port===location.port&&a.protocol===location.protocol}{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}(e)?t:"anonymous"}function St(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function _t(e,t,r){return St(e)?(setTimeout((function(){r(null,e)})),e):function(e,t,r){let img;if(r=r||kt,t=void 0!==t?t:we.crossOrigin,t=At(e,t),"undefined"!=typeof Image){img=new Image,void 0!==t&&(img.crossOrigin=t);const n=function(){img.removeEventListener("error",o),img.removeEventListener("load",l),img=null},o=function(){const t="couldn't load image: "+e;E(t),r(t,img),n()},l=function(){r(null,img),n()};return img.addEventListener("error",o),img.addEventListener("load",l),img.src=e,img}if("undefined"!=typeof ImageBitmap){let n,o;const l=function(){r(n,o)},c={};t&&(c.mode="cors"),fetch(e,c).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){o=e,setTimeout(l)})).catch((function(e){n=e,setTimeout(l)})),img=null}return img}(e,t,r)}function Tt(e,t,r){const n=(r=r||we.textureOptions).target||Pe;if(e.bindTexture(n,t),!1===r.color)return;const o=function(e){return e=e||we.textureColor,Me(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(n===Fe)for(let t=0;t<6;++t)e.texImage2D(Oe+t,0,Ae,1,1,0,Ae,Ne,o);else n===ze||n===Ie?e.texImage3D(n,0,Ae,1,1,1,0,Ae,Ne,o):e.texImage2D(n,0,Ae,1,1,0,Ae,Ne,o)}function Dt(e,t,r,n){n=n||kt,r=r||we.textureOptions,Tt(e,t,r);return _t((r=Object.assign({},r)).src,r.crossOrigin,(function(o,img){o?n(o,t,img):(Rt(e,t,img,r),n(null,t,img))}))}function Et(e,t,r,n){n=n||kt;const o=r.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";const l=r.level||0,c=r.internalFormat||r.format||Ae,d=ct(c),f=r.format||d.format,h=r.type||Ne,m=r.target||Pe;if(m!==Fe)throw"target must be TEXTURE_CUBE_MAP";Tt(e,t,r),r=Object.assign({},r);let v=6;const y=[],x=Mt(0,r);let w;w=o.map((function(o,d){return _t(o,r.crossOrigin,(M=x[d],function(o,img){--v,o?y.push(o):img.width!==img.height?y.push("cubemap face img is not a square: "+img.src):(vt(e,r),e.bindTexture(m,t),5===v?Mt().forEach((function(t){e.texImage2D(t,l,c,f,h,img)})):e.texImage2D(M,l,c,f,h,img),wt(r)&&e.generateMipmap(m)),0===v&&n(y.length?y:void 0,t,w)}));var M}))}function Pt(e,t,r,n){n=n||kt;const o=r.src,l=r.internalFormat||r.format||Ae,c=ct(l),d=r.format||c.format,f=r.type||Ne,h=r.target||Ie;if(h!==ze&&h!==Ie)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Tt(e,t,r),r=Object.assign({},r);let m=o.length;const v=[];let y;const x=r.level||0;let w=r.width,M=r.height;const C=o.length;let R=!0;y=o.map((function(o,c){return _t(o,r.crossOrigin,(k=c,function(o,img){if(--m,o)v.push(o);else{if(vt(e,r),e.bindTexture(h,t),R){R=!1,w=r.width||img.width,M=r.height||img.height,e.texImage3D(h,x,l,w,M,C,0,d,f,null);for(let s=0;s<C;++s)e.texSubImage3D(h,x,0,0,s,w,M,1,d,f,img)}else{let t,r=img;img.width===w&&img.height===M||(t=Ce(),r=t.canvas,t.canvas.width=w,t.canvas.height=M,t.drawImage(img,0,0,w,M)),e.texSubImage3D(h,x,0,0,k,w,M,1,d,f,r),t&&r===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}wt(r)&&e.generateMipmap(h)}0===m&&n(v.length?v:void 0,t,y)}));var k}))}function Ft(e,t,r,n){const o=(n=n||we.textureOptions).target||Pe;e.bindTexture(o,t);let l=n.width,c=n.height,d=n.depth;const f=n.level||0,h=n.internalFormat||n.format||Ae,m=ct(h),v=n.format||m.format,y=n.type||ht(0,r,m.type);if(Me(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{const e=T(y);r=new e(r)}const x=lt(h,y),w=r.byteLength/x;if(w%1)throw"length wrong size for format: "+xe(e,v);let M;if(o===ze||o===Ie)if(l||c||d)!l||c&&d?!c||l&&d?(M=mt(0,o,l,c,w/d),l=M.width,c=M.height):(M=mt(0,o,l,d,w/c),l=M.width,d=M.height):(M=mt(0,o,c,d,w/l),c=M.width,d=M.height);else{const e=Math.cbrt(w);if(e%1!=0)throw"can't guess cube size of array of numElements: "+w;l=e,c=e,d=e}else M=mt(0,o,l,c,w),l=M.width,c=M.height;if(bt(e),e.pixelStorei(qe,n.unpackAlignment||1),vt(e,n),o===Fe){const t=w/6*(x/r.BYTES_PER_ELEMENT);Ct(0,n).forEach((n=>{const o=t*n.ndx,data=r.subarray(o,o+t);e.texImage2D(n.face,f,h,l,c,0,v,y,data)}))}else o===ze||o===Ie?e.texImage3D(o,f,h,l,c,d,0,v,y,r):e.texImage2D(o,f,h,l,c,0,v,y,r);return{width:l,height:c,depth:d,type:y}}function zt(e,t,r){const n=r.target||Pe;e.bindTexture(n,t);const o=r.level||0,l=r.internalFormat||r.format||Ae,c=ct(l),d=r.format||c.format,f=r.type||c.type;if(vt(e,r),n===Fe)for(let t=0;t<6;++t)e.texImage2D(Oe+t,o,l,r.width,r.height,0,d,f,null);else n===ze||n===Ie?e.texImage3D(n,o,l,r.width,r.height,r.depth,0,d,f,null):e.texImage2D(n,o,l,r.width,r.height,0,d,f,null)}function It(e,t,r){r=r||kt,t=t||we.textureOptions;const n=e.createTexture(),o=t.target||Pe;let l=t.width||1,c=t.height||1;const d=t.internalFormat||Ae;e.bindTexture(o,n),o===Fe&&(e.texParameteri(o,je,Ee),e.texParameteri(o,Ue,Ee));let f=t.src;if(f)if("function"==typeof f&&(f=f(e,t)),"string"==typeof f)Dt(e,n,t,r);else if(Me(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||Me(f[0]))){const r=Ft(e,n,f,t);l=r.width,c=r.height}else Array.isArray(f)&&("string"==typeof f[0]||St(f[0]))?o===Fe?Et(e,n,t,r):Pt(e,n,t,r):(Rt(e,n,f,t),l=f.width,c=f.height);else zt(e,n,t);return wt(t)&&xt(e,n,t,l,c,d),gt(e,n,t),n}function Ot(e,t,r,n,o,l){n=n||r.width,o=o||r.height,l=l||r.depth;const c=r.target||Pe;e.bindTexture(c,t);const d=r.level||0,f=r.internalFormat||r.format||Ae,h=ct(f),m=r.format||h.format;let v;const y=r.src;if(v=y&&(Me(y)||Array.isArray(y)&&"number"==typeof y[0])?r.type||ht(0,y,h.type):r.type||h.type,c===Fe)for(let t=0;t<6;++t)e.texImage2D(Oe+t,d,f,n,o,0,m,v,null);else c===ze||c===Ie?e.texImage3D(c,d,f,n,o,l,0,m,v,null):e.texImage2D(c,d,f,n,o,0,m,v,null)}function Bt(e,t,r){r=r||kt;let n=0;const o=[],l={},c={};function d(){0===n&&setTimeout((function(){r(o.length?o:void 0,l,c)}),0)}return Object.keys(t).forEach((function(r){const f=t[r];let h;var m;("string"==typeof(m=f.src)||Array.isArray(m)&&"string"==typeof m[0])&&(h=function(e,t,img){c[r]=img,--n,e&&o.push(e),d()},++n),l[r]=It(e,f,h)})),d(),l}const Lt=E;function jt(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}const Ut=33984,qt=34962,Wt=5126,Nt=5124,$t=5125,Vt=3553,Ht=34067,Gt=32879,Jt=35866,Yt={};function Kt(e,t){return Yt[t].bindPoint}function Xt(e,t){return function(r){e.uniform1i(t,r)}}function Zt(e,t){return function(r){e.uniform1iv(t,r)}}function Qt(e,t){return function(r){e.uniform2iv(t,r)}}function er(e,t){return function(r){e.uniform3iv(t,r)}}function rr(e,t){return function(r){e.uniform4iv(t,r)}}function nr(e,t,r,n){const o=Kt(0,t);return ge(e)?function(t){let l,c;F(0,t)?(l=t,c=null):(l=t.texture,c=t.sampler),e.uniform1i(n,r),e.activeTexture(Ut+r),e.bindTexture(o,l),e.bindSampler(r,c)}:function(t){e.uniform1i(n,r),e.activeTexture(Ut+r),e.bindTexture(o,t)}}function ir(e,t,r,n,o){const l=Kt(0,t),c=new Int32Array(o);for(let e=0;e<o;++e)c[e]=r+e;return ge(e)?function(t){e.uniform1iv(n,c),t.forEach((function(t,n){let o,d;e.activeTexture(Ut+c[n]),F(0,t)?(o=t,d=null):(o=t.texture,d=t.sampler),e.bindSampler(r,d),e.bindTexture(l,o)}))}:function(t){e.uniform1iv(n,c),t.forEach((function(t,r){e.activeTexture(Ut+c[r]),e.bindTexture(l,t)}))}}function ar(e,t){return function(b){if(b.value)switch(e.disableVertexAttribArray(t),b.value.length){case 4:e.vertexAttrib4fv(t,b.value);break;case 3:e.vertexAttrib3fv(t,b.value);break;case 2:e.vertexAttrib2fv(t,b.value);break;case 1:e.vertexAttrib1fv(t,b.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(qt,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,b.numComponents||b.size,b.type||Wt,b.normalize||!1,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function or(e,t){return function(b){if(b.value){if(e.disableVertexAttribArray(t),4!==b.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,b.value)}else e.bindBuffer(qt,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,b.numComponents||b.size,b.type||Nt,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function sr(e,t){return function(b){if(b.value){if(e.disableVertexAttribArray(t),4!==b.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,b.value)}else e.bindBuffer(qt,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,b.numComponents||b.size,b.type||$t,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function lr(e,t,r){const n=r.size,o=r.count;return function(b){e.bindBuffer(qt,b.buffer);const r=b.size||b.numComponents||n,l=r/o,c=b.type||Wt,d=Yt[c].size*r,f=b.normalize||!1,h=b.offset||0,m=d/o;for(let i=0;i<o;++i)e.enableVertexAttribArray(t+i),e.vertexAttribPointer(t+i,l,c,f,d,h+m*i),void 0!==b.divisor&&e.vertexAttribDivisor(t+i,b.divisor)}}Yt[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},Yt[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}},cols:2},Yt[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}},cols:3},Yt[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}},cols:4},Yt[5124]={Type:Int32Array,size:4,setter:Xt,arraySetter:Zt},Yt[35667]={Type:Int32Array,size:8,setter:Qt,cols:2},Yt[35668]={Type:Int32Array,size:12,setter:er,cols:3},Yt[35669]={Type:Int32Array,size:16,setter:rr,cols:4},Yt[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},Yt[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}},cols:2},Yt[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}},cols:3},Yt[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}},cols:4},Yt[35670]={Type:Uint32Array,size:4,setter:Xt,arraySetter:Zt},Yt[35671]={Type:Uint32Array,size:8,setter:Qt,cols:2},Yt[35672]={Type:Uint32Array,size:12,setter:er,cols:3},Yt[35673]={Type:Uint32Array,size:16,setter:rr,cols:4},Yt[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}},rows:2,cols:2},Yt[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}},rows:3,cols:3},Yt[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}},rows:4,cols:4},Yt[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}},rows:2,cols:3},Yt[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}},rows:2,cols:4},Yt[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}},rows:3,cols:2},Yt[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}},rows:3,cols:4},Yt[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}},rows:4,cols:2},Yt[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}},rows:4,cols:3},Yt[35678]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Vt},Yt[35680]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Ht},Yt[35679]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Gt},Yt[35682]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Vt},Yt[36289]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Jt},Yt[36292]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Jt},Yt[36293]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Ht},Yt[36298]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Vt},Yt[36299]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Gt},Yt[36300]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Ht},Yt[36303]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Jt},Yt[36306]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Vt},Yt[36307]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Gt},Yt[36308]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Ht},Yt[36311]={Type:null,size:0,setter:nr,arraySetter:ir,bindPoint:Jt};const cr={};cr[5126]={size:4,setter:ar},cr[35664]={size:8,setter:ar},cr[35665]={size:12,setter:ar},cr[35666]={size:16,setter:ar},cr[5124]={size:4,setter:or},cr[35667]={size:8,setter:or},cr[35668]={size:12,setter:or},cr[35669]={size:16,setter:or},cr[5125]={size:4,setter:sr},cr[36294]={size:8,setter:sr},cr[36295]={size:12,setter:sr},cr[36296]={size:16,setter:sr},cr[35670]={size:4,setter:or},cr[35671]={size:8,setter:or},cr[35672]={size:12,setter:or},cr[35673]={size:16,setter:or},cr[35674]={size:4,setter:lr,count:2},cr[35675]={size:9,setter:lr,count:3},cr[35676]={size:16,setter:lr,count:4};const ur=/ERROR:\s*\d+:(\d+)/gi;const dr=/^[ \t]*\n/;function pr(e){let t=0;return dr.test(e)&&(t=1,e=e.replace(dr,"")),{lineOffset:t,shaderSource:e}}function fr(e,t){return e.errorCallback(t),e.callback&&setTimeout((()=>{e.callback(`${t}\n${e.errors.join("\n")}`)})),null}function mr(e,t,r,n){const o=e.createShader(r);return e.shaderSource(o,pr(t).shaderSource),e.compileShader(o),n.callback||function(e,t,r,n){n=n||Lt;const o=e.getShaderParameter(r,35713);if(!o){const o=e.getShaderInfoLog(r),{lineOffset:l,shaderSource:c}=pr(e.getShaderSource(r));n(`${function(e,t="",r=0){const n=[...t.matchAll(ur)],o=new Map(n.map(((e,r)=>{const o=parseInt(e[1]),l=n[r+1],c=l?l.index:t.length;return[o-1,t.substring(e.index,c)]})));return e.split("\n").map(((line,e)=>{const t=o.get(e);return`${e+1+r}: ${line}${t?`\n\n^^^ ${t}`:""}`})).join("\n")}(c,o,l)}\nError compiling ${xe(e,t)}: ${o}`)}return o}(e,r,o,n.errorCallback)?o:(e.deleteShader(o),null)}function vr(e,t,r){let n,o,l;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback&&e.errors)return e;const t=e;r=t.errorCallback,e=t.attribLocations,n=t.transformFeedbackVaryings,o=t.transformFeedbackMode,l=t.callback}const c=r||Lt,d=[],f={errorCallback(e,...t){d.push(e),c(e,...t)},transformFeedbackVaryings:n,transformFeedbackMode:o,callback:l,errors:d};if(e){let r={};Array.isArray(e)?e.forEach((function(e,n){r[e]=t?t[n]:n})):r=e,f.attribLocations=r}return f}const yr=["VERTEX_SHADER","FRAGMENT_SHADER"];function gr(e,t){return t.indexOf("frag")>=0?35632:t.indexOf("vert")>=0?35633:void 0}function xr(e,t){t.forEach((function(t){e.deleteShader(t)}))}const wr=(e=0)=>new Promise((t=>setTimeout(t,e)));function Mr(e,t,r,n,o){const l=vr(r,n,o),c=[],d=[];for(let r=0;r<t.length;++r){let n=t[r];if("string"==typeof n){const t=jt(n),o=t?t.text:n;let c=e[yr[r]];t&&t.type&&(c=gr(0,t.type)||c),n=mr(e,o,c,l),d.push(n)}f=n,"undefined"!=typeof WebGLShader&&f instanceof WebGLShader&&c.push(n)}var f;if(c.length!==t.length)return xr(e,d),fr(l,"not enough shaders for program");const h=e.createProgram();c.forEach((function(t){e.attachShader(h,t)})),l.attribLocations&&Object.keys(l.attribLocations).forEach((function(t){e.bindAttribLocation(h,l.attribLocations[t],t)}));let m=l.transformFeedbackVaryings;return m&&(m.attribs&&(m=m.attribs),Array.isArray(m)||(m=Object.keys(m)),e.transformFeedbackVaryings(h,m,l.transformFeedbackMode||35981)),e.linkProgram(h),l.callback?(async function(e,t,r){const n=e.getExtension("KHR_parallel_shader_compile"),o=n?(e,t)=>e.getProgramParameter(t,n.COMPLETION_STATUS_KHR):()=>!0;let l=0;do{await wr(l),l=1e3/60}while(!o(e,t));const c=Cr(e,t,r.errorCallback),d=c?void 0:r.errors.join("\n");if(!c){(r.errorCallback||Lt)(d),e.deleteProgram(t),t=null}r.callback(d,t)}(e,h,l),null):Cr(e,h,l.errorCallback)?h:(e.deleteProgram(h),xr(e,d),null)}function Cr(e,t,r){r=r||Lt;const n=e.getProgramParameter(t,35714);if(!n){r(`Error in program linking: ${e.getProgramInfoLog(t)}`)}return n}function Rr(e,t,r,n,o){const l=vr(r,n,o),c=[];for(let r=0;r<t.length;++r){const n=mr(e,t[r],e[yr[r]],l);if(!l.callback&&!n)return null;c.push(n)}return Mr(e,c,l)}function kr(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const Ar=/(\.|\[|]|\w+)/g;function Sr(e,t,r,n){const o=e.split(Ar).filter((s=>""!==s));let l=0,path="";for(;;){const e=o[l++];path+=e;const c=(s=e[0])>="0"&&s<="9",d=c?parseInt(e):e;c&&(path+=o[l++]);if(l===o.length){r[d]=t;break}{const e=o[l++],t="["===e,c=r[d]||(t?[]:{});r[d]=c,r=c,n[path]=n[path]||function(e){return function(t){Er(e,t)}}(c),path+=e}}var s}function _r(e,t){let r=0;function n(t,n,o){const l=n.name.endsWith("[0]"),c=n.type,d=Yt[c];if(!d)throw new Error(`unknown type: 0x${c.toString(16)}`);let f;if(d.bindPoint){const t=r;r+=n.size,f=l?d.arraySetter(e,c,t,o,n.size):d.setter(e,c,t,o,n.size)}else f=d.arraySetter&&l?d.arraySetter(e,o):d.setter(e,o);return f.location=o,f}const o={},l={},c=e.getProgramParameter(t,35718);for(let r=0;r<c;++r){const c=e.getActiveUniform(t,r);if(kr(c))continue;let d=c.name;d.endsWith("[0]")&&(d=d.substr(0,d.length-3));const f=e.getUniformLocation(t,c.name);if(f){const e=n(0,c,f);o[d]=e,Sr(d,e,l,o)}}return o}function Tr(e,t){const r={},n=e.getProgramParameter(t,35971);for(let o=0;o<n;++o){const n=e.getTransformFeedbackVarying(t,o);r[n.name]={index:o,type:n.type,size:n.size}}return r}function Dr(e,t){const r=e.getProgramParameter(t,35718),n=[],o=[];for(let l=0;l<r;++l){o.push(l),n.push({});const r=e.getActiveUniform(t,l);n[l].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(r){const l=r[0],c=r[1];e.getActiveUniforms(t,o,e[l]).forEach((function(e,t){n[t][c]=e}))}));const l={},c=e.getProgramParameter(t,35382);for(let r=0;r<c;++r){const n=e.getActiveUniformBlockName(t,r),o={index:e.getUniformBlockIndex(t,n),usedByVertexShader:e.getActiveUniformBlockParameter(t,r,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(t,r,35398),size:e.getActiveUniformBlockParameter(t,r,35392),uniformIndices:e.getActiveUniformBlockParameter(t,r,35395)};o.used=o.usedByVertexShader||o.usedByFragmentShader,l[n]=o}return{blockSpecs:l,uniformData:n}}function Er(e,t){for(const r in t){const n=e[r];"function"==typeof n?n(t[r]):Er(e[r],t[r])}}function Pr(e,...t){const r=e.uniformSetters||e,n=t.length;for(let e=0;e<n;++e){const n=t[e];if(Array.isArray(n)){const e=n.length;for(let t=0;t<e;++t)Pr(r,n[t])}else for(const e in n){const t=r[e];t&&t(n[e])}}}function Fr(e,t){const r={},n=e.getProgramParameter(t,35721);for(let o=0;o<n;++o){const n=e.getActiveAttrib(t,o);if(kr(n))continue;const l=e.getAttribLocation(t,n.name),c=cr[n.type],d=c.setter(e,l,c);d.location=l,r[n.name]=d}return r}function zr(e,t){for(const r in t){const n=e[r];n&&n(t[r])}}function Ir(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(zr(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(34963,r.indices))}function Or(e,t){const r={program:t,uniformSetters:_r(e,t),attribSetters:Fr(e,t)};return ge(e)&&(r.uniformBlockSpec=Dr(e,t),r.transformFeedbackInfo=Tr(e,t)),r}const Br=/\s|{|}|;/;function Lr(e,t,r,n,o){const l=vr(r,n,o),c=[];if(t=t.map((function(source){if(!Br.test(source)){const script=jt(source);if(script)source=script.text;else{const e=`no element with id: ${source}`;l.errorCallback(e),c.push(e)}}return source})),c.length)return fr(l,"");const d=l.callback;d&&(l.callback=(t,r)=>{let n;t||(n=Or(e,r)),d(t,n)});const f=Rr(e,t,l);return f?Or(e,f):null}function jr(e,t,r,n,o,l){r=void 0===r?4:r;const c=t.indices,d=t.elementType,f=void 0===n?t.numElements:n;o=void 0===o?0:o,d||c?void 0!==l?e.drawElementsInstanced(r,f,void 0===d?5123:t.elementType,o,l):e.drawElements(r,f,void 0===d?5123:t.elementType,o):void 0!==l?e.drawArraysInstanced(r,o,f,l):e.drawArrays(r,o,f)}const Ur=36161,qr=34041,Wr=36064,Nr=36096,$r=33306,Vr=33071,Hr=9729,Gr=[{format:6408,type:5121,min:Hr,wrap:Vr},{format:qr}],Jr={};Jr[34041]=$r,Jr[6401]=36128,Jr[36168]=36128,Jr[6402]=Nr,Jr[33189]=Nr,Jr[33190]=Nr,Jr[36012]=Nr,Jr[35056]=$r,Jr[36013]=$r;const Yr={};Yr[32854]=!0,Yr[32855]=!0,Yr[36194]=!0,Yr[34041]=!0,Yr[33189]=!0,Yr[6401]=!0,Yr[36168]=!0;function Kr(e,t,r,n){const o=36160,l=e.createFramebuffer();e.bindFramebuffer(o,l),r=r||e.drawingBufferWidth,n=n||e.drawingBufferHeight;const c=[],d={framebuffer:l,attachments:[],width:r,height:n};return(t=t||Gr).forEach((function(t,i){let l=t.attachment;const f=t.samples,h=t.format;let m=t.attachmentPoint||function(e,t){return Jr[e]||Jr[t]}(h,t.internalFormat);if(m||(m=Wr+i),function(e){return e>=Wr&&e<36096}(m)&&c.push(m),!l)if(void 0!==f||function(e){return Yr[e]}(h))l=e.createRenderbuffer(),e.bindRenderbuffer(Ur,l),f>1?e.renderbufferStorageMultisample(Ur,f,h,r,n):e.renderbufferStorage(Ur,h,r,n);else{const o=Object.assign({},t);o.width=r,o.height=n,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||Hr,o.mag=o.mag||o.minMag||Hr,o.wrapS=o.wrapS||o.wrap||Vr,o.wrapT=o.wrapT||o.wrap||Vr),l=It(e,o)}if(P(0,l))e.framebufferRenderbuffer(o,m,Ur,l);else{if(!F(0,l))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(o,m,l,t.level||0,t.layer):e.framebufferTexture2D(o,m,t.target||3553,l,t.level||0)}d.attachments.push(l)})),e.drawBuffers&&e.drawBuffers(c),d}function Xr(e,t,r,n,o){n=n||e.drawingBufferWidth,o=o||e.drawingBufferHeight,t.width=n,t.height=o,(r=r||Gr).forEach((function(r,l){const c=t.attachments[l],d=r.format,f=r.samples;if(void 0!==f||P(0,c))e.bindRenderbuffer(Ur,c),f>1?e.renderbufferStorageMultisample(Ur,f,d,n,o):e.renderbufferStorage(Ur,d,n,o);else{if(!F(0,c))throw new Error("unknown attachment type");Ot(e,c,r,n,o)}}))}function Zr(canvas,e){e=e||1,e=Math.max(0,e);const t=canvas.clientWidth*e|0,r=canvas.clientHeight*e|0;return(canvas.width!==t||canvas.height!==r)&&(canvas.width=t,canvas.height=r,!0)}},399:function(e,t,r){var content=r(762);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("f76c58dc",content,!0,{sourceMap:!1})},400:function(e,t,r){var content=r(764);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("6ba383b4",content,!0,{sourceMap:!1})},401:function(e,t,r){var content=r(766);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("6a94f6b7",content,!0,{sourceMap:!1})},402:function(e,t,r){var content=r(768);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("2ec219d4",content,!0,{sourceMap:!1})},403:function(e,t,r){var content=r(770);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("61263cdc",content,!0,{sourceMap:!1})},468:function(e,t,r){var content=r(823);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("4338eee7",content,!0,{sourceMap:!1})},469:function(e,t,r){var content=r(825);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("1125a550",content,!0,{sourceMap:!1})},470:function(e,t,r){var content=r(830);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("b3b19b6a",content,!0,{sourceMap:!1})},471:function(e,t,r){var content=r(832);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(108).default)("967aa982",content,!0,{sourceMap:!1})},761:function(e,t,r){"use strict";r(399)},762:function(e,t,r){var n=r(107)(!1);n.push([e.i,'.slider-wrapper[data-v-55c44296]{margin-bottom:35px}.slider[data-v-55c44296]{width:100%;height:7px;outline:none;background:#dbdbdb;-webkit-appearance:none;position:relative;border-radius:2px}.slider[data-v-55c44296]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:19px;height:19px;background:var(--black);border:none;border-radius:100%;cursor:pointer;color:#e2e2e2;position:relative;left:var(--offset);z-index:3}.slider[data-v-55c44296]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:19px;height:19px;background:var(--black);border:none;border-radius:100%;cursor:pointer;color:#e2e2e2;position:relative;left:var(--offset);z-index:3}.slider[data-v-55c44296]::-moz-range-progress{background:#000;height:100%;border-top-left-radius:2px;border-bottom-left-radius:2px}.slider[data-v-55c44296]::-webkit-slider-thumb:hover{transform:scale(1.04)}.slider[data-v-55c44296]::-webkit-slider-runnable-track{border:none;position:relative}.slider[data-v-55c44296]:after{content:"";position:absolute;top:0;left:0;height:100%;width:var(--percent);background:var(--black);border-top-left-radius:2px;border-bottom-left-radius:2px}.header[data-v-55c44296]{font-size:15px;margin-bottom:3px;display:flex;justify-content:space-between;align-items:flex-end}.title-icon[data-v-55c44296]{height:17px;position:relative;top:3px;opacity:.7}@media only screen and (max-width:880px){.header[data-v-55c44296]{font-size:17px;margin-bottom:5px}.slider[data-v-55c44296]{height:8px}.slider[data-v-55c44296]::-webkit-slider-thumb{width:25px;height:25px}}@media only screen and (min-width:880px) and (max-height:610px){.header[data-v-55c44296]{font-size:14px}}@media only screen and (max-width:880px) and (max-height:600px){.header[data-v-55c44296]{font-size:14px}.slider-wrapper[data-v-55c44296]{margin-bottom:24px}.slider[data-v-55c44296]{height:6px}}',""]),e.exports=n},763:function(e,t,r){"use strict";r(400)},764:function(e,t,r){var n=r(107)(!1);n.push([e.i,".stat[data-v-109e0ad6]{text-align:left}.label[data-v-109e0ad6]{opacity:.5;font-size:14px}.value[data-v-109e0ad6]{font-size:26px;font-weight:700;text-align:center}",""]),e.exports=n},765:function(e,t,r){"use strict";r(401)},766:function(e,t,r){var n=r(107)(!1);n.push([e.i,".bullet-wrapper[data-v-60388d06]{display:grid;grid-template-columns:auto 1fr;width:100%;text-align:left;line-height:1.45em;grid-gap:18px;align-items:center;padding:16px 0;border-top:1px solid #bdbdbd}.bullet-icon-wrapper[data-v-60388d06]{display:flex;justify-content:center;align-items:center}.bullet-icon[data-v-60388d06]{width:28px}.bullet-desc[data-v-60388d06]{padding-right:5px}b[data-v-60388d06]{background:#eee;color:#000;padding:2px 5px;-webkit-box-decoration-break:clone;box-decoration-break:clone;border-radius:2px;white-space:nowrap}.death b[data-v-60388d06]{background:var(--black);color:#fff}@media only screen and (max-width:880px){.bullet-icon[data-v-60388d06]{width:32px}.bullet-wrapper[data-v-60388d06]{font-size:16px;line-height:1.55em}}",""]),e.exports=n},767:function(e,t,r){"use strict";r(402)},768:function(e,t,r){var n=r(107)(!1);n.push([e.i,".section[data-v-84c613a8]{padding:25px 15px 0 20px;text-align:center;position:relative}.section-icon[data-v-84c613a8]{max-width:200px;max-height:150px;margin:15px 0}.section-headline[data-v-84c613a8]{font-size:31px;font-family:Julius;padding:0 10px;margin-bottom:15px}.section-trigger[data-v-84c613a8]{position:absolute;top:25px;left:0;height:calc(100% - 50px);width:100%;opacity:0;pointer-events:none}@media only screen and (max-width:880px){.section-headline[data-v-84c613a8]{max-width:285px;margin-left:auto;margin-right:auto;font-size:34px}.section[data-v-84c613a8]{padding-top:0}.section-icon[data-v-84c613a8]{max-width:250px}}@media only screen and (min-width:880px) and (max-height:710px){.section-icon[data-v-84c613a8]{max-height:130px}.section-headline[data-v-84c613a8]{font-size:30px}}@media only screen and (max-width:880px){.section-icon[data-v-84c613a8]{max-height:130px;margin-top:15px}.section-headline[data-v-84c613a8]{font-size:32px;margin-bottom:20px}}",""]),e.exports=n},769:function(e,t,r){"use strict";r(403)},770:function(e,t,r){var n=r(107)(!1);n.push([e.i,".result-desc[data-v-14a3f988]{font-size:15px;margin-top:10px;padding:0 10px}.stats-two-col[data-v-14a3f988]{display:flex;justify-content:space-around;background:#fff;border:1px solid #000;padding:10px 0}.result-line[data-v-14a3f988]{margin-top:20px;padding:0 10px;color:rgba(0,0,0,.6)}",""]),e.exports=n},822:function(e,t,r){"use strict";r(468)},823:function(e,t,r){var n=r(107)(!1);n.push([e.i,".render[data-v-28728635]{aspect-ratio:1/1;margin-left:auto;margin-right:auto;display:block}",""]),e.exports=n},824:function(e,t,r){"use strict";r(469)},825:function(e,t,r){var n=r(107)(!1);n.push([e.i,".side-bar[data-v-835f42ae]{position:fixed;top:0;right:0;width:340px;height:100%;padding:39px 0 25px;color:#000;z-index:100;overflow-y:scroll;box-shadow:0 -15px 15px 10px rgba(0,0,0,.1);background:#fff}.side-bar-input[data-v-835f42ae]{padding:39px 29px 30px}.title[data-v-835f42ae]{font-size:36px;text-transform:uppercase}.cta[data-v-835f42ae],.title[data-v-835f42ae]{text-align:center;font-family:Julius,sans-serif}.cta[data-v-835f42ae]{display:block;font-size:19px;width:100%;padding:0;height:57px;border:none;color:#fff;cursor:pointer;transition:opacity .4s ease-in-out;background:var(--black);border-radius:2px;display:flex;justify-content:center;align-items:center;border-radius:3px;margin-top:40px;touch-action:none}.cta[data-v-835f42ae]:hover{transform:scale(1.015)}.cta[data-v-835f42ae]:disabled{pointer-events:none;opacity:.45}.cta-icon[data-v-835f42ae]{position:relative;top:3px;left:3px}.instruction[data-v-835f42ae]{margin-top:8px;text-align:center;font-size:14px}.mobile-only[data-v-835f42ae]{display:none}.close[data-v-835f42ae]{position:sticky;top:5px;left:calc(100% - 45px);width:30px;z-index:3}.asteroid-wrapper[data-v-835f42ae]{position:relative;margin-bottom:35px}.asteroid-arrow[data-v-835f42ae]{position:absolute;top:50%;transform:translateY(-50%);height:32px;width:32px;cursor:pointer;-webkit-user-drag:none}.asteroid-arrow[data-v-835f42ae]:hover{transform:translateY(-50%) scale(1.08)}.asteroid-arrow-left[data-v-835f42ae]{left:5px}.asteroid-arrow-right[data-v-835f42ae]{right:5px}.asteroid-type[data-v-835f42ae]{font-size:14px;text-align:center;margin-top:-10px;z-index:2;position:relative}.cta-icon[data-v-835f42ae]{height:18px}.fade[data-v-835f42ae]{position:fixed;bottom:0;width:100%;height:150px;background:linear-gradient(180deg,hsla(0,0%,100%,0),#fff 95%);transition:opacity .2s linear}.fade[data-v-835f42ae],.hide-fade[data-v-835f42ae]{pointer-events:none}.hide-fade[data-v-835f42ae]{opacity:0}.down-arrow[data-v-835f42ae]{position:fixed;bottom:15px;width:30px;right:115px;transform:translateX(-100%);cursor:pointer;-webkit-user-drag:none}.info-desc[data-v-835f42ae]{margin-top:30px}.info-desc p[data-v-835f42ae]{font-size:15px;margin-top:15px;line-height:1.4em}.info-desc .source[data-v-835f42ae]{display:block;color:#000;margin-top:7px;border-left:2px solid #000;padding-left:5px;font-size:15px}.info-desc a[data-v-835f42ae]{color:#000}.info-desc a[data-v-835f42ae]:hover{transform:scale(1.03)}.info-back[data-v-835f42ae]{position:absolute;top:36px;left:18px;height:40px;cursor:pointer;z-index:4}.info-back[data-v-835f42ae]:hover,.info-icon[data-v-835f42ae]:hover{transform:scale(1.08)}.info-icon[data-v-835f42ae]{position:absolute;bottom:9px;right:9px;height:21px;cursor:pointer}.info-more[data-v-835f42ae]{text-align:center;font-size:16px;margin-top:55px;margin-bottom:10px}.info-logo[data-v-835f42ae]{display:block;max-width:135px;margin-left:auto;margin-right:auto}.info-logo[data-v-835f42ae]:hover{transform:scale(1.05)}.launch-another-wrapper[data-v-835f42ae]{padding:0 20px}.launch-another[data-v-835f42ae]{background:#fff;color:#000;border:2px solid #000}.switch-unit[data-v-835f42ae]{position:absolute;bottom:10px;left:10px;font-size:12px;text-decoration:underline;cursor:pointer}@media only screen and (max-width:1050px){.side-bar[data-v-835f42ae]{width:315px}}@media only screen and (min-width:880px) and (max-height:685px){.title[data-v-835f42ae]{font-size:32px}.asteroid-wrapper[data-v-835f42ae]{margin-bottom:30px}.side-bar[data-v-835f42ae]{padding-top:30px}}@media only screen and (min-width:880px) and (max-height:650px){.title[data-v-835f42ae]{font-size:28px}.asteroid-wrapper[data-v-835f42ae]{margin-bottom:20px}.side-bar[data-v-835f42ae]{padding-top:25px}}@media only screen and (min-width:880px) and (max-height:610px){.slider-wrapper[data-v-835f42ae]{margin-bottom:22px}.cta[data-v-835f42ae]{margin-top:30px}}@media only screen and (max-width:880px){.side-bar[data-v-835f42ae]{width:100%;top:auto;bottom:0;height:100%;padding-top:5px;transition:transform .3s ease-in-out;box-shadow:none}.title[data-v-835f42ae]{margin-top:20px}.cta[data-v-835f42ae]{margin-top:25px}.hide[data-v-835f42ae]{transform:translateY(100%)}.desktop-only[data-v-835f42ae]{display:none}.mobile-only[data-v-835f42ae]{display:block}.side-bar-input[data-v-835f42ae]{padding:30px 30px 0}.title[data-v-835f42ae]{font-size:32px;margin-bottom:-10px;z-index:2;position:relative}.asteroid-arrow[data-v-835f42ae]{width:35px;height:35px}.asteroid-arrow-left[data-v-835f42ae]{left:10px}.asteroid-arrow-right[data-v-835f42ae]{right:10px}.asteroid-wrapper[data-v-835f42ae]{margin-bottom:20px}.info-back[data-v-835f42ae]{top:48px;left:50px}.info-icon[data-v-835f42ae]{bottom:auto;top:10px;height:23px}.info-desc[data-v-835f42ae]{margin-top:40px}.info-desc a[data-v-835f42ae],.info-desc p[data-v-835f42ae]{font-size:16px}}@media only screen and (max-width:880px) and (max-height:600px){.title[data-v-835f42ae]{font-size:28px;max-width:200px;margin-left:auto;margin-right:auto;margin-top:0}.cta[data-v-835f42ae]{height:50px}.info-back[data-v-835f42ae]{top:23px}}",""]),e.exports=n},826:function(e,t,r){r(2)({target:"Math",stat:!0},{log10:r(827)})},827:function(e,t){var r=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return r(e)*n}},828:function(e,t,r){"use strict";e.exports=function(e,t,r,n){var o,l,c,d,f,h,m,v,y,x,hr,w,M;"function"!=typeof t&&(n=r,r=t,t=null);d=void 0===(n=n||{}).tolerance?1e-7:n.tolerance,M=void 0===n.epsilon?2220446049250313e-31:n.epsilon,f=void 0===n.maxIterations?20:n.maxIterations,x=void 0===n.h?1e-4:n.h,w=void 0!==n.verbose&&n.verbose,hr=1/x,h=0;for(;h++<f;){if(l=e(r),t?c=t(r):(m=e(r+x),v=e(r-x),y=e(r+2*x),c=(e(r-2*x)-y+8*(m-v))*hr/12),Math.abs(c)<=M*Math.abs(l))return w&&console.log("Newton-Raphson: failed to converged due to nearly zero first derivative"),!1;if(o=r-l/c,Math.abs(o-r)<=d*Math.abs(o))return w&&console.log("Newton-Raphson: converged to x = "+o+" after "+h+" iterations"),o;r=o}w&&console.log("Newton-Raphson: Maximum iterations reached ("+f+")");return!1}},829:function(e,t,r){"use strict";r(470)},830:function(e,t,r){var n=r(107)(!1);n.push([e.i,":root{--black:#000}",""]),e.exports=n},831:function(e,t,r){"use strict";r(471)},832:function(e,t,r){var n=r(107),o=r(200),l=r(833),c=r(834),d=r(835),f=n(!1),h=o(l),m=o(c),v=o(d);f.push([e.i,"@font-face{font-family:Inter;src:url("+h+")}@font-face{font-family:Inter;font-weight:700;src:url("+m+")}@font-face{font-family:Julius;src:url("+v+")}.container[data-v-5916b92d]{font-size:14px;font-family:Inter,sans-serif;background:#fff;color:var(--black)}#map-container[data-v-5916b92d]{filter:brightness(120%) saturate(170%) hue-rotate(10deg)}#map-container[data-v-5916b92d],.overlay[data-v-5916b92d]{position:fixed;top:0;left:0;width:calc(100% - 340px);height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.overlay[data-v-5916b92d]{pointer-events:none;mix-blend-mode:hard-light}.annotation[data-v-5916b92d]{position:fixed;top:0;left:0;pointer-events:none;z-index:3;color:#fff;text-align:center;padding:9px 11px;font-family:Julius;font-size:12px;display:none;will-change:transform,opacity;-moz-user-select:none;user-select:none;-webkit-user-drag:none;opacity:0;border-radius:3px;transition:opacity .2s linear;-webkit-user-select:none;background:#000}.annotations[data-v-5916b92d]{position:fixed;opacity:0;transition:opacity .3s linear}.annotations-show[data-v-5916b92d]{opacity:1}.marker[data-v-5916b92d]{width:40px;opacity:0;pointer-events:none}.reset[data-v-5916b92d]{position:fixed;top:10px;right:350px;background:#fff;color:#000;border:0;padding:1px 10px 0;height:34px;display:flex;align-items:center;justify-content:center;font-size:17px;cursor:pointer;font-family:Julius;z-index:3;border-radius:3px;touch-action:none;grid-gap:4px}.reset[data-v-5916b92d]:hover{transform:scale(1.015)}.reset-icon[data-v-5916b92d]{height:16px}.site-title[data-v-5916b92d]{position:fixed;top:10px;left:10px;z-index:100;touch-action:none;width:125px;filter:invert(100%) drop-shadow(0 0 4px black);z-index:100000}.site-title[data-v-5916b92d]:hover{transform:scale(1.04)}.hide-overlay[data-v-5916b92d]{opacity:0}.show-marker[data-v-5916b92d]{opacity:1}.location[data-v-5916b92d]{position:fixed;bottom:20px;left:50%;transform:translateX(calc(-50% - 150px));font-size:14px;padding:10px 20px;text-align:center;color:#000;background:#fff;border-radius:20px;text-transform:uppercase}.mobile-controls[data-v-5916b92d]{position:fixed;bottom:0;width:100%;padding:10px;z-index:4;display:none}.mobile-controls .cta[data-v-5916b92d]{display:block;font-size:17px;display:flex;justify-content:center;align-items:center;width:100%;padding:0 30px;border:none;cursor:pointer;font-family:Julius;transition:opacity .5s ease-in-out;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:3px;background:#fff;color:#000;height:48px;touch-action:none}.mobile-controls .cta-large[data-v-5916b92d]{height:60px}.mobile-controls .cta-icon[data-v-5916b92d]{width:18px;position:relative;top:0;left:11px}.mobile-controls .navigation[data-v-5916b92d]{width:100%;display:grid;grid-template-columns:auto 1fr;grid-gap:5px;margin-top:5px}.mobile-controls .details[data-v-5916b92d]{color:#fff;border:1px solid #000;background:var(--black);touch-action:none}.mobile-controls .prev-button[data-v-5916b92d]:disabled{color:rgba(0,0,0,.4)}.result-controls[data-v-5916b92d]{transition:opacity .3s ease-in-out}.result-controls-hide[data-v-5916b92d]{opacity:0;pointer-events:none}.mobile-controls .details-icon[data-v-5916b92d]{height:17px;position:relative;right:8px}.mobile-controls .cta-large .details-icon[data-v-5916b92d]{height:21px;right:13px}.rate-limit[data-v-5916b92d]{position:fixed;top:0;left:0;width:calc(100% - 340px);height:100%;background:hsla(0,0%,100%,.95);z-index:100;font-size:21px;display:flex;align-items:center;justify-content:center;padding:25px}.rate-limit a[data-v-5916b92d]{color:#000;text-decoration:underline}.rate-limit-inner[data-v-5916b92d]{max-width:500px;line-height:1.5em}@media only screen and (max-width:1050px){#map-container[data-v-5916b92d],.overlay[data-v-5916b92d],.rate-limit[data-v-5916b92d]{width:calc(100% - 315px)}.location[data-v-5916b92d]{transform:translateX(calc(-50% - 157px))}.reset[data-v-5916b92d]{right:325px;font-size:16px}}@media only screen and (max-width:880px){.annotation[data-v-5916b92d]{font-size:13px;padding:8px 11px}#map-container[data-v-5916b92d],.location[data-v-5916b92d],.overlay[data-v-5916b92d],.rate-limit[data-v-5916b92d]{width:100%}.location[data-v-5916b92d]{transform:translateX(-50%);font-size:14px;padding:10px 20px;max-width:250px;bottom:35px}.mobile-controls[data-v-5916b92d]{display:block}.reset[data-v-5916b92d]{right:8px;font-size:16px;background:#fff;color:#000}.site-title[data-v-5916b92d]{width:95px;top:10px}.site-title-invert[data-v-5916b92d]{filter:none}}@media only screen and (max-width:880px) and (max-height:600px){.site-title[data-v-5916b92d]{width:80px}}",""]),e.exports=f},833:function(e,t,r){e.exports=r.p+"fonts/Inter-Regular.c8ba52b.woff2"},834:function(e,t,r){e.exports=r.p+"fonts/Inter-SemiBold.b5f0f10.woff2"},835:function(e,t,r){e.exports=r.p+"fonts/JuliusSansOne-Regular.9dc2dc0.woff2"}}]);